(self.webpackChunkgauge_chart_plugin=self.webpackChunkgauge_chart_plugin||[]).push([[3368],{43368:function(t,e,i){i.r(e),i.d(e,{ArithmeticMeasureBuilder:function(){return Xe},AssignedDataSourcePermissionValue:function(){return bs},AssignedWorkspacePermissionValue:function(){return ms},AttributeBuilder:function(){return w},BuiltInWidgetTypes:function(){return Lu},ComputeRatioRule:function(){return Si},DashboardAttributeFilterConfigModeValues:function(){return Co},DashboardDateFilterConfigModeValues:function(){return Oo},DateGranularity:function(){return n},InlineMeasureBuilder:function(){return Qe},InsightDefinitionBuilder:function(){return kr},MeasureBuilder:function(){return Ke},MeasureBuilderBase:function(){return Ye},MeasureGroupIdentifier:function(){return vt},OrganizationPermissionAssignmentValue:function(){return hs},PoPMeasureBuilder:function(){return ti},PreviousPeriodMeasureBuilder:function(){return ei},SemanticQualityIssueCodeValues:function(){return Ss},SemanticQualityIssueSeverityOrder:function(){return Ts},VirtualArithmeticMeasureBuilder:function(){return Je},absoluteDateFilterValues:function(){return Te},anyAttribute:function(){return g},anyBucket:function(){return pi},anyMeasure:function(){return V},applyRatioRule:function(){return Ti},areObjRefsEqual:function(){return b},assertNever:function(){return r},attributeAlias:function(){return A},attributeDescriptorLocalId:function(){return Ko},attributeDescriptorName:function(){return Qo},attributeDisplayFormMetadataObjectAttributeRef:function(){return Xu},attributeDisplayFormMetadataObjectRef:function(){return Ku},attributeDisplayFormMetadataObjectTitle:function(){return Qu},attributeDisplayFormRef:function(){return v},attributeElementsCount:function(){return ve},attributeElementsIsEmpty:function(){return Fe},attributeIdentifier:function(){return D},attributeLocalId:function(){return k},attributeLocatorElement:function(){return Vt},attributeLocatorIdentifier:function(){return jt},attributeShowAllValues:function(){return F},attributeUri:function(){return y},attributesFind:function(){return G},bucketAttribute:function(){return Ai},bucketAttributeIndex:function(){return Di},bucketAttributes:function(){return Fi},bucketIsEmpty:function(){return yi},bucketItemLocalId:function(){return Wi},bucketItemReduce:function(){return Oi},bucketItems:function(){return Zi},bucketMeasure:function(){return Gi},bucketMeasureIndex:function(){return vi},bucketMeasures:function(){return Mi},bucketModifyItems:function(){return Li},bucketSetTotals:function(){return Ri},bucketTotals:function(){return Ei},bucketsAttributes:function(){return Ci},bucketsById:function(){return _i},bucketsFind:function(){return $i},bucketsFindAttribute:function(){return Pi},bucketsFindMeasure:function(){return Ui},bucketsIsEmpty:function(){return Vi},bucketsItems:function(){return xi},bucketsMeasures:function(){return Ni},bucketsModifyItem:function(){return Bi},bucketsReduceItem:function(){return Hi},bucketsTotals:function(){return ji},catalogItemMetadataObject:function(){return Hu},colorPaletteItemToRgb:function(){return fr},colorPaletteToColors:function(){return lr},dashboardFilterLocalIdentifier:function(){return au},dashboardFilterObjRef:function(){return su},dashboardFilterReferenceObjRef:function(){return bu},defFingerprint:function(){return an},defSetBuckets:function(){return en},defSetDimensions:function(){return sn},defSetExecConfig:function(){return rn},defSetPostProcessing:function(){return un},defSetSorts:function(){return nn},defTotals:function(){return on},defWithBuckets:function(){return nr},defWithDateFormat:function(){return ir},defWithDimensions:function(){return rr},defWithExecConfig:function(){return tr},defWithFilters:function(){return tn},defWithPostProcessing:function(){return er},defWithSorting:function(){return Jn},defaultDimensionsGenerator:function(){return ur},deserializeObjRef:function(){return p},dimensionSetTotals:function(){return Et},dimensionTotals:function(){return Zt},dimensionsFindItem:function(){return Tt},disableComputeRatio:function(){return wi},drillDownReferenceAttributeRef:function(){return Su},drillDownReferenceHierarchyRef:function(){return Ru},emptyDef:function(){return Yn},exportDefinitionCreated:function(){return ys},exportDefinitionTitle:function(){return ks},exportDefinitionUpdated:function(){return Ds},factoryNotationFor:function(){return Ur},filterAttributeElements:function(){return Ze},filterIsEmpty:function(){return Ae},filterLocalIdentifier:function(){return Re},filterMeasureRef:function(){return Se},filterObjRef:function(){return Ee},getAttributeElementsItems:function(){return Ge},getHierarchyAttributes:function(){return ju},getHierarchyRef:function(){return _u},getHierarchyTitle:function(){return xu},getSelectedElementsCount:function(){return Kr},idMatchAttribute:function(){return I},idMatchBucket:function(){return bi},idMatchMeasure:function(){return B},idRef:function(){return E},insightAttributeFilterConfigs:function(){return An},insightAttributes:function(){return In},insightBucket:function(){return mn},insightBuckets:function(){return pn},insightCreated:function(){return On},insightCreatedBy:function(){return Cn},insightCreatedByComparator:function(){return pr},insightCreatedComparator:function(){return hr},insightDisplayFormUsage:function(){return Hn},insightFilters:function(){return Dn},insightHasAttributes:function(){return kn},insightHasDataDefined:function(){return yn},insightHasMeasures:function(){return gn},insightId:function(){return wn},insightIsLocked:function(){return Pn},insightItems:function(){return bn},insightMeasures:function(){return hn},insightModifyItems:function(){return Vn},insightProperties:function(){return Gn},insightReduceItems:function(){return Bn},insightRef:function(){return Tn},insightSanitize:function(){return Dr},insightSetBuckets:function(){return jn},insightSetFilters:function(){return xn},insightSetProperties:function(){return Un},insightSetSorts:function(){return _n},insightSorts:function(){return Fn},insightSummary:function(){return Sn},insightTags:function(){return Rn},insightTitle:function(){return En},insightTitleComparator:function(){return mr},insightTotals:function(){return vn},insightUpdated:function(){return Nn},insightUpdatedBy:function(){return $n},insightUpdatedByComparator:function(){return br},insightUpdatedComparator:function(){return gr},insightUri:function(){return Ln},insightVisualizationType:function(){return Zn},insightVisualizationUrl:function(){return Mn},isAbsoluteDashboardDateFilter:function(){return eu},isAbsoluteDateFilter:function(){return te},isAbsoluteDateFilterForm:function(){return Vr},isAbsoluteDateFilterPreset:function(){return Br},isAdhocMeasure:function(){return q},isAlertNotification:function(){return U},isAllTimeDashboardDateFilter:function(){return uu},isAllTimeDateFilter:function(){return fe},isAllTimeDateFilterOption:function(){return jr},isAllValuesDashboardAttributeFilter:function(){return ou},isArithmeticMeasure:function(){return Q},isArithmeticMeasureDefinition:function(){return nt},isAssignedWorkspacePermission:function(){return ps},isAttribute:function(){return h},isAttributeAreaSort:function(){return Lt},isAttributeDescriptor:function(){return xo},isAttributeDisplayFormMetadataObject:function(){return Ju},isAttributeElementsByRef:function(){return ye},isAttributeElementsByValue:function(){return De},isAttributeFilter:function(){return le},isAttributeHierarchyMetadataObject:function(){return so},isAttributeHierarchyReference:function(){return Zu},isAttributeLocator:function(){return Nt},isAttributeMetadataObject:function(){return to},isAttributeSort:function(){return wt},isAttributeValueSort:function(){return Ot},isAutomationExternalUserRecipient:function(){return Ms},isAutomationMetadataObject:function(){return As},isAutomationMetadataObjectDefinition:function(){return Fs},isAutomationUnknownUserRecipient:function(){return Zs},isAutomationUserGroupRecipient:function(){return Gs},isAutomationUserRecipient:function(){return vs},isAvailableUserAccessGrantee:function(){return cs},isAvailableUserGroupAccessGrantee:function(){return fs},isBucket:function(){return hi},isCatalogAttribute:function(){return $u},isCatalogAttributeHierarchy:function(){return Pu},isCatalogDateAttribute:function(){return Wu},isCatalogDateAttributeHierarchy:function(){return Uu},isCatalogDateDataset:function(){return zu},isCatalogFact:function(){return Vu},isCatalogMeasure:function(){return Bu},isColorDescriptor:function(){return Ho},isColorFromPalette:function(){return ar},isColorMappingItem:function(){return ln},isColorPaletteItem:function(){return sr},isComparisonCondition:function(){return he},isComparisonConditionOperator:function(){return ge},isCrossFiltering:function(){return Tu},isDashboard:function(){return No},isDashboardAttachment:function(){return Go},isDashboardAttributeFilter:function(){return zr},isDashboardAttributeFilterReference:function(){return pu},isDashboardCommonDateFilter:function(){return Xr},isDashboardDateFilter:function(){return Qr},isDashboardDateFilterReference:function(){return mu},isDashboardDateFilterWithDimension:function(){return Jr},isDashboardDefinition:function(){return $o},isDashboardLayout:function(){return wo},isDashboardLayoutItem:function(){return To},isDashboardLayoutSection:function(){return Lo},isDashboardMetadataObject:function(){return oo},isDashboardTab:function(){return Uo},isDashboardWidget:function(){return So},isDataSetMetadataObject:function(){return eo},isDateFilter:function(){return de},isDateFilterGranularity:function(){return xr},isDateHierarchyReference:function(){return Eu},isDimension:function(){return Mt},isDrillFromAttribute:function(){return Du},isDrillFromMeasure:function(){return yu},isDrillToAttributeUrl:function(){return Mu},isDrillToCustomUrl:function(){return Gu},isDrillToDashboard:function(){return Fu},isDrillToInsight:function(){return vu},isDrillToLegacyDashboard:function(){return Au},isExportDefinitionDashboardRequestPayload:function(){return gs},isExportDefinitionVisualizationObjectRequestPayload:function(){return Is},isFactMetadataObject:function(){return no},isFilter:function(){return be},isFilterContext:function(){return lu},isFilterContextDefinition:function(){return fu},isFilterContextItem:function(){return cu},isGranularAccess:function(){return is},isGranularAccessGrantee:function(){return ss},isGranularRulesAccessGrantee:function(){return as},isGranularUserAccess:function(){return ts},isGranularUserAccessGrantee:function(){return us},isGranularUserGroupAccess:function(){return es},isGranularUserGroupAccessGrantee:function(){return os},isIOrganizationUser:function(){return Eo},isIOrganizationUserGroup:function(){return Ro},isIdentifierRef:function(){return c},isInlineMeasure:function(){return z},isInlineMeasureDefinition:function(){return tt},isInsight:function(){return dn},isInsightWidget:function(){return go},isInsightWidgetDefinition:function(){return Io},isKeyDriveAnalysis:function(){return wu},isKpi:function(){return Ou},isKpiWidget:function(){return ko},isKpiWidgetDefinition:function(){return yo},isKpiWithComparison:function(){return Cu},isKpiWithoutComparison:function(){return Nu},isListedDashboard:function(){return Po},isLocalIdRef:function(){return l},isLowerBound:function(){return ue},isMdObject:function(){return C},isMdObjectDefinition:function(){return N},isMeasure:function(){return H},isMeasureDefinition:function(){return J},isMeasureDescriptor:function(){return Vo},isMeasureFormatInPercent:function(){return ht},isMeasureGroupDescriptor:function(){return jo},isMeasureGroupIdentifier:function(){return Gt},isMeasureLocator:function(){return Pt},isMeasureMetadataObject:function(){return ro},isMeasureMetadataObjectDefinition:function(){return uo},isMeasureSort:function(){return Ct},isMeasureValueFilter:function(){return me},isMetadataObject:function(){return Yu},isNegativeAttributeFilter:function(){return Jt},isNegativeDashboardAttributeFilter:function(){return Yr},isNotification:function(){return j},isNotificationChannelMetadataObject:function(){return $},isNotificationChannelMetadataObjectDefinition:function(){return P},isObjRef:function(){return f},isPoPMeasure:function(){return Y},isPoPMeasureDefinition:function(){return et},isPositiveAttributeFilter:function(){return Xt},isPreviousPeriodMeasure:function(){return K},isPreviousPeriodMeasureDefinition:function(){return it},isRangeCondition:function(){return Ie},isRangeConditionOperator:function(){return ke},isRankingFilter:function(){return pe},isRelativeBoundedDateFilter:function(){return se},isRelativeBoundedDateFilterBody:function(){return ie},isRelativeDashboardDateFilter:function(){return tu},isRelativeDateFilter:function(){return ee},isRelativeDateFilterForm:function(){return Hr},isRelativeDateFilterPreset:function(){return Wr},isRelativeLowerBoundedDateFilter:function(){return ce},isRelativeLowerBoundedDateFilterBody:function(){return oe},isRelativeUpperBoundedDateFilter:function(){return ae},isRelativeUpperBoundedDateFilterBody:function(){return ne},isResultAttributeHeader:function(){return Wo},isResultMeasureHeader:function(){return zo},isResultTotalHeader:function(){return qo},isRgbColor:function(){return cr},isRichTextWidget:function(){return Do},isRichTextWidgetDefinition:function(){return Ao},isScheduleNotification:function(){return _},isSemanticSearchRelationship:function(){return Rs},isSemanticSearchResultItem:function(){return Es},isSeparators:function(){return _o},isSimpleMeasure:function(){return W},isSimpleMeasureFilter:function(){return Qt},isSingleSelectionFilter:function(){return qr},isTempFilterContext:function(){return du},isTestNotification:function(){return x},isTotal:function(){return Dt},isTotalDescriptor:function(){return Bo},isTotalLocator:function(){return $t},isUpperBound:function(){return re},isUriRef:function(){return a},isUserAccess:function(){return Xo},isUserAccessGrantee:function(){return ns},isUserGroupAccess:function(){return Jo},isUserGroupAccessGrantee:function(){return rs},isUserGroupWorkspaceAccessGrantee:function(){return ds},isUserWorkspaceAccessGrantee:function(){return ls},isVariableMetadataObject:function(){return io},isVirtualArithmeticMeasure:function(){return X},isVirtualArithmeticMeasureDefinition:function(){return rt},isVisualizationSwitcherWidget:function(){return Fo},isVisualizationSwitcherWidgetDefinition:function(){return vo},isWidget:function(){return co},isWidgetAlert:function(){return Iu},isWidgetAlertDefinition:function(){return gu},isWidgetAttachment:function(){return Mo},isWidgetDefinition:function(){return ao},localIdRef:function(){return S},measureAggregation:function(){return gt},measureAlias:function(){return mt},measureArithmeticOperands:function(){return lt},measureArithmeticOperator:function(){return dt},measureDoesComputeRatio:function(){return ct},measureFilters:function(){return It},measureFormat:function(){return bt},measureIdentifier:function(){return st},measureItem:function(){return at},measureLocalId:function(){return ut},measureLocatorIdentifier:function(){return Bt},measureMasterIdentifier:function(){return ft},measurePopAttribute:function(){return kt},measurePreviousPeriodDateDataSets:function(){return yt},measureTitle:function(){return pt},measureUri:function(){return ot},measureValueFilterCondition:function(){return Oe},measureValueFilterMeasure:function(){return Le},measureValueFilterOperator:function(){return Ce},mergeFilters:function(){return qe},metadataObjectId:function(){return qu},modifyAttribute:function(){return O},modifyInlineMeasure:function(){return oi},modifyMeasure:function(){return ni},modifyPopMeasure:function(){return si},modifyPreviousPeriodMeasure:function(){return ai},modifySimpleMeasure:function(){return ri},newAbsoluteDashboardDateFilter:function(){return nu},newAbsoluteDateFilter:function(){return Pe},newAllTimeDashboardDateFilter:function(){return ru},newAllTimeFilter:function(){return _e},newArithmeticMeasure:function(){return ci},newAttribute:function(){return L},newAttributeAreaSort:function(){return Wt},newAttributeLocator:function(){return Yt},newAttributeLocatorWithNullElement:function(){return Kt},newAttributeSort:function(){return Ht},newBucket:function(){return ki},newDefForBuckets:function(){return Qn},newDefForInsight:function(){return Xn},newDefForItems:function(){return Kn},newDimension:function(){return St},newInlineMeasure:function(){return ui},newInsightDefinition:function(){return Ir},newMeasure:function(){return ii},newMeasureSort:function(){return zt},newMeasureSortFromLocators:function(){return qt},newMeasureValueFilter:function(){return Ve},newNegativeAttributeFilter:function(){return $e},newPopMeasure:function(){return li},newPositiveAttributeFilter:function(){return Ne},newPreviousPeriodMeasure:function(){return di},newRankingFilter:function(){return Be},newRelativeDashboardDateFilter:function(){return iu},newRelativeDateFilter:function(){return Ue},newTotal:function(){return At},newTwoDimensional:function(){return Rt},newVirtualArithmeticMeasure:function(){return fi},objRefToString:function(){return d},relativeDateFilterValues:function(){return we},resultHeaderName:function(){return Yo},sanitizeBucketTotals:function(){return Ar},serializeObjRef:function(){return m},sortDirection:function(){return Ut},sortEntityIds:function(){return _t},sortMeasureLocators:function(){return xt},totalIsNative:function(){return Ft},updateAttributeElementsItems:function(){return Me},uriRef:function(){return R},userFullName:function(){return Zo},visClassId:function(){return qn},visClassUri:function(){return zn},visClassUrl:function(){return Wn},widgetId:function(){return lo},widgetRef:function(){return po},widgetTitle:function(){return ho},widgetType:function(){return bo},widgetUri:function(){return mo}});const n={date:"GDC.time.date",week:"GDC.time.week_us",month:"GDC.time.month",quarter:"GDC.time.quarter",year:"GDC.time.year"},r=t=>{console.error(`Unhandled discriminated union member: ${t}`)};var u=i(79697),o=i(47591),s=i(67266);function a(t){return!(0,u.Z)(t)&&void 0!==t.uri}function c(t){return!(0,u.Z)(t)&&void 0!==t.identifier}function f(t){return a(t)||c(t)}function l(t){return!(0,u.Z)(t)&&void 0!==t.localIdentifier}function d(t){return(0,o.kG)(t,"object reference must be specified"),c(t)?`${t.identifier}`:a(t)?t.uri:t.localIdentifier}function m(t){const e=function(t){return c(t)?{identifier:t.identifier,type:t.type}:a(t)?{uri:t.uri}:l(t)?{localIdentifier:t.localIdentifier}:t}(t);return s(e,{space:0})||"undefined"}function p(t){const e=JSON.parse(t);return(0,o.kG)(f(e)||l(e),`Attempting to deserialize ObjRef but the input is invalid: '${t}'`),e}function b(t,e){return null==t?null==e:c(t)&&c(e)&&t.type&&e.type?t.identifier===e.identifier&&t.type===e.type:c(t)&&c(e)?t.identifier===e.identifier:a(t)&&a(e)?t.uri===e.uri:l(t)&&l(e)&&t.localIdentifier===e.localIdentifier}function h(t){return!(0,u.Z)(t)&&void 0!==t.attribute}const g=t=>!0,I=t=>e=>e.attribute.localIdentifier===t;function k(t){return(0,o.kG)(t,"attribute must be specified"),"string"==typeof t?t:t.attribute.localIdentifier}function y(t){return(0,o.kG)(t,"attribute must be specified"),a(t.attribute.displayForm)?t.attribute.displayForm.uri:void 0}function D(t){return(0,o.kG)(t,"attribute must be specified"),c(t.attribute.displayForm)?t.attribute.displayForm.identifier:void 0}function A(t){return(0,o.kG)(t,"attribute must be specified"),t.attribute.alias}function F(t){return(0,o.kG)(t,"attribute must be specified"),t.attribute.showAllValues}function v(t){return(0,o.kG)(t,"attribute must be specified"),t.attribute.displayForm}function G(t,e=g){if((0,o.kG)(t,"attributes must be specified"),!t.length)return;const i="string"==typeof e?I(e):e;return t.find(i)}var M=i(68652),Z=i(8322);function E(t,e){return e?{identifier:t,type:e}:{identifier:t}}function R(t){return{uri:t}}function S(t){return{localIdentifier:t}}function T(t){return t.replace(/[^a-zA-Z0-9_.]/g,"_")}class w{attribute;customLocalId=!1;constructor(t){if(h(t))this.attribute=(0,M.Z)(t.attribute),this.customLocalId=!0;else{const e=f(t)?t:E(t,"displayForm");this.attribute={displayForm:e,localIdentifier:""}}}alias=t=>t?(this.attribute.alias=t,this):this.noAlias();noAlias=()=>(delete this.attribute.alias,this);showAllValues=t=>(void 0===t?delete this.attribute.showAllValues:this.attribute.showAllValues=t,this);displayForm=t=>(this.attribute.displayForm=t,this);localId=t=>t&&0!==t.trim().length?(this.attribute.localIdentifier=t,this.customLocalId=!0,this):this.defaultLocalId();defaultLocalId=()=>(this.attribute.localIdentifier="",this.customLocalId=!1,this);build=()=>{const t=this.getOrGenerateLocalId();return{attribute:{...this.attribute,localIdentifier:t}}};getOrGenerateLocalId(){return this.customLocalId&&!(0,u.Z)(this.attribute.localIdentifier)?this.attribute.localIdentifier:T(["a",this.calculateAliasHash(),d(this.attribute.displayForm)].filter((t=>!(0,u.Z)(t))).join("_"))}calculateAliasHash(){if(!this.attribute.alias)return"";const t=new Z;return t.append(this.attribute.alias),t.end().substr(0,8)}}function L(t,e=(t=>t)){return e(new w(t)).build()}function O(t,e=(t=>t)){return e(new w(t)).build()}function C(t){const e=t,i=!(0,u.Z)(e),n=!(null===e.type||void 0===e.type),r=!(null===e.id||void 0===e.id);return i&&n&&r}function N(t){const e=t,i=!(0,u.Z)(e),n=!(null===e.type||void 0===e.type),r=null===e.id||void 0===e.id;return i&&n&&r}function $(t){return C(t)&&"notificationChannel"===t.type}function P(t){return N(t)&&"notificationChannel"===t.type}function U(t){return!(0,u.Z)(t)&&"alertNotification"===t.notificationType}function _(t){return!(0,u.Z)(t)&&"scheduleNotification"===t.notificationType}function x(t){return!(0,u.Z)(t)&&"testNotification"===t.notificationType}function j(t){return U(t)||_(t)||x(t)}const V=t=>!0,B=t=>e=>e.measure.localIdentifier===t;function H(t){return!(0,u.Z)(t)&&void 0!==t.measure?.definition}function W(t){return H(t)&&J(t.measure.definition)}function z(t){return H(t)&&tt(t.measure.definition)}function q(t){if(!W(t))return!1;const{measureDefinition:e}=t.measure.definition;return!!e.aggregation||!!e.computeRatio||Array.isArray(e.filters)&&e.filters.length>0}function Y(t){return H(t)&&et(t.measure.definition)}function K(t){return H(t)&&it(t.measure.definition)}function Q(t){return H(t)&&nt(t.measure.definition)}function X(t){return H(t)&&rt(t.measure.definition)}function J(t){return!(0,u.Z)(t)&&void 0!==t.measureDefinition}function tt(t){return!(0,u.Z)(t)&&void 0!==t.inlineDefinition}function et(t){return!(0,u.Z)(t)&&void 0!==t.popMeasureDefinition}function it(t){return!(0,u.Z)(t)&&void 0!==t.previousPeriodMeasure}function nt(t){return!(0,u.Z)(t)&&void 0!==t.arithmeticMeasure}function rt(t){const e=t;return nt(e)&&!!e.virtual}function ut(t){return(0,o.kG)(t,"measure or local id must be specified"),"string"==typeof t?t:t.measure.localIdentifier}function ot(t){(0,o.kG)(t,"measure must be specified");const e=at(t);if(e)return a(e)?e.uri:void 0}function st(t){(0,o.kG)(t,"measure must be specified");const e=at(t);if(e)return c(e)?e.identifier:void 0}function at(t){return(0,o.kG)(t,"measure must be specified"),t.measure.definition.measureDefinition?.item}function ct(t){return(0,o.kG)(t,"measure must be specified"),!!W(t)&&!!t.measure.definition.measureDefinition.computeRatio}function ft(t){return(0,o.kG)(t,"measure must be specified"),Y(t)?t.measure.definition.popMeasureDefinition.measureIdentifier:K(t)?t.measure.definition.previousPeriodMeasure.measureIdentifier:void 0}function lt(t){if((0,o.kG)(t,"measure must be specified"),Q(t))return t.measure.definition.arithmeticMeasure.measureIdentifiers}function dt(t){if((0,o.kG)(t,"measure must be specified"),Q(t))return t.measure.definition.arithmeticMeasure.operator}function mt(t){return(0,o.kG)(t,"measure must be specified"),t.measure.alias}function pt(t){return(0,o.kG)(t,"measure must be specified"),t.measure.title}function bt(t){return(0,o.kG)(t,"measure must be specified"),t.measure.format}function ht(t){const e=H(t)?bt(t):t;return!!e&&/^[^;]*%[^;]*;*$/.test(e.trim().replace(/\\%/g,""))}function gt(t){if((0,o.kG)(t,"measure must be specified"),W(t))return t.measure.definition.measureDefinition.aggregation}function It(t){if((0,o.kG)(t,"measure must be specified"),W(t))return t.measure.definition.measureDefinition.filters}function kt(t){if((0,o.kG)(t,"measure must be specified"),Y(t))return t.measure.definition.popMeasureDefinition.popAttribute}function yt(t){if((0,o.kG)(t,"measure must be specified"),K(t))return t.measure.definition.previousPeriodMeasure.dateDataSets}function Dt(t){return!(0,u.Z)(t)&&void 0!==t.type&&void 0!==t.measureIdentifier&&void 0!==t.attributeIdentifier}function At(t,e,i,n){return(0,o.kG)(t,"total type must be specified"),(0,o.kG)(e,"measure or measure local id must be specified"),(0,o.kG)(i,"attribute or attribute local id must be specified"),{type:t,measureIdentifier:ut(e),attributeIdentifier:k(i),...n?{alias:n}:{}}}function Ft(t){return(0,o.kG)(t,"total must be specified"),"nat"===t.type}const vt="measureGroup",Gt=t=>t===vt;function Mt(t){return!(0,u.Z)(t)&&void 0!==t.itemIdentifiers}function Zt(t){return(0,o.kG)(t,"dimension must be specified"),t.totals?t.totals:[]}function Et(t,e=[]){(0,o.kG)(t,"dimension must be specified");const i=(0,u.Z)(e)?{}:{totals:e};return{itemIdentifiers:t.itemIdentifiers,...i}}function Rt(t,e){(0,o.kG)(t,"input for first dimension must be specified"),(0,o.kG)(e,"input for second dimension must be specified");const i=!(t.find(Gt)&&e.find(Gt));return(0,o.kG)(i,"The 'measureGroup' identifier must only be specified in one dimension."),[St(t),St(e)]}function St(t=[],e=[]){const i=t.reduce(((t,e)=>(Dt(e)?t.totals.push(e):h(e)?t.ids.push(k(e)):t.ids.push(e),t)),{ids:[],totals:[]});i.totals.push(...e);const n=(0,u.Z)(i.totals)?{}:{totals:i.totals};return{itemIdentifiers:i.ids,...n}}function Tt(t,e){const i=[];for(let n=0;n<t.length;n++){const r=t[n],u=r.itemIdentifiers.findIndex((t=>t===e));u>=0&&i.push({dim:r,dimIdx:n,itemIdx:u})}return i}function wt(t){return!(0,u.Z)(t)&&void 0!==t.attributeSortItem}function Lt(t){return wt(t)&&void 0!==t.attributeSortItem.aggregation}function Ot(t){return wt(t)&&!Lt(t)}function Ct(t){return!(0,u.Z)(t)&&void 0!==t.measureSortItem}function Nt(t){return!(0,u.Z)(t)&&void 0!==t.attributeLocatorItem}function $t(t){return!(0,u.Z)(t)&&void 0!==t.totalLocatorItem}function Pt(t){return!(0,u.Z)(t)&&void 0!==t.measureLocatorItem}function Ut(t){return(0,o.kG)(t,"sort item must be specified"),wt(t)?t.attributeSortItem.direction:t.measureSortItem.direction}function _t(t){(0,o.kG)(t,"sort item must be specified");const e={attributeIdentifiers:[],measureIdentifiers:[],allIdentifiers:[]};if(wt(t)){const i=t.attributeSortItem.attributeIdentifier;e.attributeIdentifiers.push(i),e.allIdentifiers.push(i)}else Ct(t)&&t.measureSortItem.locators.forEach((t=>{if(Nt(t)){const i=t.attributeLocatorItem.attributeIdentifier;e.attributeIdentifiers.push(i),e.allIdentifiers.push(i)}else if(Pt(t)){const i=t.measureLocatorItem.measureIdentifier;e.measureIdentifiers.push(i),e.allIdentifiers.push(i)}}));return e}function xt(t){return t.measureSortItem.locators}function jt(t){return t.attributeLocatorItem.attributeIdentifier}function Vt(t){return t.attributeLocatorItem.element}function Bt(t){return t.measureLocatorItem.measureIdentifier}function Ht(t,e="asc"){return(0,o.kG)(t,"attribute to create sort for must be specified"),{attributeSortItem:{attributeIdentifier:k(t),direction:e}}}function Wt(t,e="asc",i="sum"){return(0,o.kG)(t,"attribute to create sort for must be specified"),{attributeSortItem:{attributeIdentifier:k(t),direction:e,aggregation:i}}}function zt(t,e="asc",i=[]){return(0,o.kG)(t,"measure to create sort for must be specified"),{measureSortItem:{direction:e,locators:[...i,{measureLocatorItem:{measureIdentifier:ut(t)}}]}}}function qt(t,e="asc"){return(0,o.kG)(0!==t.length,"locators must be specified"),{measureSortItem:{direction:e,locators:t}}}function Yt(t,e){return(0,o.kG)(t,"attribute to create sort locator for must be specified"),(0,o.kG)(e,"attribute element must be specified"),{attributeLocatorItem:{attributeIdentifier:k(t),element:e}}}function Kt(t,e){return(0,o.kG)(t,"attribute to create sort locator for must be specified"),{attributeLocatorItem:{attributeIdentifier:k(t),element:e}}}function Qt(t){return Xt(t)||Jt(t)||te(t)||ee(t)}function Xt(t){return!(0,u.Z)(t)&&void 0!==t.positiveAttributeFilter}function Jt(t){return!(0,u.Z)(t)&&void 0!==t.negativeAttributeFilter}function te(t){return!(0,u.Z)(t)&&void 0!==t.absoluteDateFilter}function ee(t){return!(0,u.Z)(t)&&void 0!==t.relativeDateFilter}function ie(t){return void 0!==t.boundedFilter}function ne(t){return ie(t)&&void 0!==t.boundedFilter.to}function re(t){return null!==t&&"object"==typeof t&&null!=t.to}function ue(t){return null!==t&&"object"==typeof t&&null!=t.from}function oe(t){return ie(t)&&void 0!==t.boundedFilter.from}function se(t){return ee(t)&&ie(t.relativeDateFilter)}function ae(t){return ee(t)&&ne(t.relativeDateFilter)}function ce(t){return ee(t)&&oe(t.relativeDateFilter)}function fe(t){return!(0,u.Z)(t)&&"ALL_TIME_GRANULARITY"===t.relativeDateFilter?.granularity}function le(t){return Xt(t)||Jt(t)}function de(t){return ee(t)||te(t)}function me(t){return!(0,u.Z)(t)&&void 0!==t.measureValueFilter}function pe(t){return!(0,u.Z)(t)&&void 0!==t.rankingFilter}function be(t){return de(t)||le(t)||me(t)||pe(t)}function he(t){return!(0,u.Z)(t)&&void 0!==t.comparison}function ge(t){return"GREATER_THAN"===t||"GREATER_THAN_OR_EQUAL_TO"===t||"LESS_THAN"===t||"LESS_THAN_OR_EQUAL_TO"===t||"EQUAL_TO"===t||"NOT_EQUAL_TO"===t}function Ie(t){return!(0,u.Z)(t)&&void 0!==t.range}function ke(t){return"BETWEEN"===t||"NOT_BETWEEN"===t}function ye(t){return!(0,u.Z)(t)&&void 0!==t.uris}function De(t){return!(0,u.Z)(t)&&void 0!==t.values}function Ae(t){return(0,o.kG)(t,"filter must be specified"),Xt(t)?Fe(t.positiveAttributeFilter.in):Fe(t.negativeAttributeFilter.notIn)}function Fe(t){return(0,o.kG)(t,"attribute elements must be specified"),ye(t)?(0,u.Z)(t.uris):(0,u.Z)(t.values)}function ve(t){return(0,o.kG)(t,"attribute elements must be specified"),ye(t)?t.uris.length:t.values.length}function Ge(t){return(0,o.kG)(t,"attribute elements must be specified"),ye(t)?t.uris:t.values}function Me(t,e){return(0,o.kG)(t,"attribute elements must be specified"),ye(t)?{...t,uris:e}:{...t,values:e}}function Ze(t){if((0,o.kG)(t,"attribute elements must be specified"),le(t))return Xt(t)?t.positiveAttributeFilter.in:t.negativeAttributeFilter.notIn}function Ee(t){return(0,o.kG)(t,"filter must be specified"),Xt(t)&&f(t.positiveAttributeFilter.displayForm)?t.positiveAttributeFilter.displayForm:Jt(t)&&f(t.negativeAttributeFilter.displayForm)?t.negativeAttributeFilter.displayForm:te(t)?t.absoluteDateFilter.dataSet:ee(t)?t.relativeDateFilter.dataSet:void 0}function Re(t){if((0,o.kG)(t,"filter must be specified"),le(t)||de(t))return Xt(t)?t.positiveAttributeFilter.localIdentifier:Jt(t)?t.negativeAttributeFilter.localIdentifier:te(t)?t.absoluteDateFilter.localIdentifier:ee(t)?t.relativeDateFilter.localIdentifier:void 0}function Se(t){return pe(t)?t.rankingFilter.measure:me(t)?t.measureValueFilter.measure:void 0}function Te(t,e=!1){return(0,o.kG)(t,"filter must be specified"),{from:t.absoluteDateFilter.from,to:t.absoluteDateFilter.to,...e?{dataSet:t.absoluteDateFilter.dataSet}:{}}}function we(t,e=!1){(0,o.kG)(t,"filter must be specified");const i=se(t)?t.relativeDateFilter.boundedFilter:void 0;return{from:t.relativeDateFilter.from,to:t.relativeDateFilter.to,granularity:t.relativeDateFilter.granularity,...i?{boundedFilter:i}:{},...e?{dataSet:t.relativeDateFilter.dataSet}:{}}}function Le(t){return(0,o.kG)(t,"filter must be specified"),t.measureValueFilter.measure}function Oe(t){return(0,o.kG)(t,"filter must be specified"),t.measureValueFilter.condition}function Ce(t){return(0,o.kG)(t,"filter must be specified"),he(t.measureValueFilter.condition)?t.measureValueFilter.condition.comparison.operator:Ie(t.measureValueFilter.condition)?t.measureValueFilter.condition.range.operator:void 0}function Ne(t,e,i){return{positiveAttributeFilter:{...i?{localIdentifier:i}:{},displayForm:f(t)?t:"string"==typeof t?E(t):v(t),in:Array.isArray(e)?{values:e}:e}}}function $e(t,e,i){return{negativeAttributeFilter:{...i?{localIdentifier:i}:{},displayForm:f(t)?t:"string"==typeof t?E(t):v(t),notIn:Array.isArray(e)?{values:e}:e}}}function Pe(t,e,i,n){return{absoluteDateFilter:{dataSet:f(t)?t:E(t),from:e,to:i,...n?{localIdentifier:n}:{}}}}function Ue(t,e,i,n,r,u){return{relativeDateFilter:{dataSet:f(t)?t:E(t),granularity:e,from:i,to:n,...u?{boundedFilter:u}:{},...r?{localIdentifier:r}:{}}}}function _e(t,e){return{relativeDateFilter:{dataSet:f(t)?t:E(t),granularity:"ALL_TIME_GRANULARITY",from:0,to:0,...e?{localIdentifier:e}:{}}}}function xe(t){return H(t)?S(ut(t)):"string"==typeof t?S(t):t}function je(t){return h(t)?S(k(t)):"string"==typeof t?S(t):t}function Ve(t,e,i,n,r){const u=xe(t);return"BETWEEN"===e||"NOT_BETWEEN"===e?((0,o.kG)(void 0!==n,"measure value filter with range operator requires two numeric values"),{measureValueFilter:{measure:u,condition:{range:{operator:e,from:i,to:n,...null==r?{}:{treatNullValuesAs:r}}}}}):{measureValueFilter:{measure:u,condition:{comparison:{operator:e,value:i,...null==n?{}:{treatNullValuesAs:n}}}}}}function Be(t,e,i,n){if("string"==typeof e&&"number"==typeof i)return{rankingFilter:{measure:xe(t),operator:e,value:i}};if("string"==typeof i&&n){const r=xe(t),u=e.map(je);return{rankingFilter:{measure:r,operator:i,value:n,...u.length?{attributes:u}:{}}}}throw new Error("Ranking filter requires measure, operator and value")}var He=i(29732),We=i(15643);function ze(t){const e={attribute:[],date:[],measureValue:[],ranking:[]};return t.forEach((t=>{le(t)?e.attribute.push(t):de(t)?e.date.push(t):me(t)?e.measureValue.push(t):pe(t)&&e.ranking.push(t),(0,o.kG)(t,"filter is not supported")})),e}function qe(t,e,i){(0,o.kG)(t,"original filters must be specified");const n=(0,He.Z)(e??[]);if(!n.length)return t;if(!t.length)return n.filter((t=>!fe(t)));const r=ze(t),u=ze(n),s=[...r.attribute,...u.attribute],a=function(t,e,i){const n=[...t,...e],r=(0,We.Z)(n,(t=>d(Ee(t)))),u=[];return Object.values(r).forEach((t=>{const e=t.at(-1),n=i?t.find((t=>Re(t)===i)):void 0;!!i&&Re(e)===i||!n||fe(n)||u.push(n),fe(e)||u.push(e)})),u}(r.date,u.date,i),c=function(t,e){const i=[...t,...e],n=(0,We.Z)(i,(t=>d(t.measureValueFilter.measure)));return Object.values(n).map((t=>t.at(-1)))}(r.measureValue,u.measureValue);return[...s,...a,...c,...r.ranking,...u.ranking]}class Ye{customLocalId=!1;measure;constructor(){this.measure={localIdentifier:""}}localId=t=>t&&0!==t.trim().length?(this.measure.localIdentifier=t,this.customLocalId=!0,this):this.defaultLocalId();defaultLocalId=()=>(this.measure.localIdentifier="",this.customLocalId=!1,this);alias=t=>t?(this.measure.alias=t,this):this.noAlias();noAlias=()=>(delete this.measure.alias,this);title=t=>t?(this.measure.title=t,this):this.noTitle();noTitle=()=>(delete this.measure.title,this);format=t=>t?(this.measure.format=t,this):this.defaultFormat();defaultFormat=()=>(delete this.measure.format,this);build=()=>({measure:{...this.buildEnvelope(),definition:this.buildDefinition()}});initializeFromExisting(t){this.measure=(0,M.Z)(t),this.measure.localIdentifier=t.localIdentifier,this.customLocalId=!0}getOrGenerateLocalId(){return this.customLocalId&&!(0,u.Z)(this.measure.localIdentifier)?this.measure.localIdentifier:T(["m",this.buildEnvelopeLocalIdPart(),this.generateLocalId()].filter((t=>!(0,u.Z)(t))).join("_"))}buildEnvelopeLocalIdPart(){const{alias:t,format:e,title:i}=this.measure;if(!t&&!e&&!i)return"";const n=new Z;return n.append("alias_"+(t??"")),n.append("format_"+(e??"")),n.append("title_"+(i??"")),n.end().substr(0,8)}buildEnvelope(){return{...this.measure,localIdentifier:this.getOrGenerateLocalId()}}}class Ke extends Ye{measureDefinition;constructor(t){super(),H(t)?(this.initializeFromExisting(t.measure),this.measureDefinition=(0,M.Z)(t.measure.definition.measureDefinition)):this.measureDefinition={item:t}}aggregation=t=>t?(this.measureDefinition.aggregation=t,this):this.defaultAggregation();defaultAggregation=()=>(delete this.measureDefinition.aggregation,this);ratio=(t=!0)=>t?(this.measureDefinition.computeRatio=!0,this):this.noRatio();noRatio=()=>(delete this.measureDefinition.computeRatio,this);filters=(...t)=>(this.measureDefinition.filters=t,this);noFilters=()=>(this.measureDefinition.filters=[],this);measureItem=t=>(this.measureDefinition.item=t,this);generateLocalId(){const t=this.measureDefinition.aggregation?`_${this.measureDefinition.aggregation}`:"",e=this.measureDefinition.computeRatio?"_ratio":"";return`${d(this.measureDefinition.item)}${t}${e}${this.filterLocalIdString()}`}buildDefinition(){return{measureDefinition:this.measureDefinition}}filterLocalIdString(){if((0,u.Z)(this.measureDefinition.filters))return"";const t=new Z;return t.append(JSON.stringify(this.measureDefinition.filters)),"_"+t.end().substr(0,8)}}class Qe extends Ye{inlineMeasureDefinition;constructor(t){super(),z(t)?(this.initializeFromExisting(t.measure),this.inlineMeasureDefinition=(0,M.Z)(t.measure.definition.inlineDefinition)):this.inlineMeasureDefinition={maql:t}}maql=t=>(this.inlineMeasureDefinition.maql=t,this);generateLocalId(){const t=new Z;return t.append(this.inlineMeasureDefinition.maql),t.end().substr(0,8)+"_inline"}buildDefinition(){return{inlineDefinition:this.inlineMeasureDefinition}}}class Xe extends Ye{arithmeticMeasure;constructor(t){if(super(),Q(t))this.initializeFromExisting(t.measure),this.arithmeticMeasure=(0,M.Z)(t.measure.definition.arithmeticMeasure);else{const e=t.measuresOrIds.map(ut);this.arithmeticMeasure={measureIdentifiers:e,operator:t.operator}}}operator=t=>(this.arithmeticMeasure.operator=t,this);operands=t=>(this.arithmeticMeasure.measureIdentifiers=t.map(ut),this);buildDefinition(){return{arithmeticMeasure:this.arithmeticMeasure}}generateLocalId(){const t=new Z;return this.arithmeticMeasure.measureIdentifiers.forEach((e=>t.append(e))),t.end()}}class Je extends Xe{shouldCombineLocalIdWithOperator=!1;combineLocalIdWithOperator(){return this.shouldCombineLocalIdWithOperator=!0,this}buildDefinition(){return{...super.buildDefinition(),virtual:!0}}generateLocalId(){const t=super.generateLocalId();return this.shouldCombineLocalIdWithOperator?`${t}_${this.arithmeticMeasure.operator}`:t}}class ti extends Ye{popMeasureDefinition;constructor(t){if(super(),Y(t))this.initializeFromExisting(t.measure),this.popMeasureDefinition=(0,M.Z)(t.measure.definition.popMeasureDefinition);else{const e=ut(t.measureOrLocalId),i=f(t.popAttrIdOrRef)?t.popAttrIdOrRef:E(t.popAttrIdOrRef,"attribute");this.popMeasureDefinition={measureIdentifier:e,popAttribute:i}}}masterMeasure=t=>(this.popMeasureDefinition.measureIdentifier=ut(t),this);popAttribute=t=>(this.popMeasureDefinition.popAttribute=f(t)?t:E(t,"attribute"),this);buildDefinition(){return{popMeasureDefinition:this.popMeasureDefinition}}generateLocalId(){return`${this.popMeasureDefinition.measureIdentifier}_${d(this.popMeasureDefinition.popAttribute)}`}}class ei extends Ye{previousPeriodMeasure;constructor(t){super(),K(t)?(this.initializeFromExisting(t.measure),this.previousPeriodMeasure=(0,M.Z)(t.measure.definition.previousPeriodMeasure)):this.previousPeriodMeasure={measureIdentifier:ut(t.measureIdOrLocalId),dateDataSets:this.convertDd(t.dateDataSets)}}masterMeasure=t=>(this.previousPeriodMeasure.measureIdentifier=ut(t),this);dateDataSets=t=>(this.previousPeriodMeasure.dateDataSets=this.convertDd(t),this);buildDefinition(){return{previousPeriodMeasure:this.previousPeriodMeasure}}generateLocalId(){return`${this.previousPeriodMeasure.measureIdentifier}_previous_period`}convertDd=t=>t.map((t=>({...t,dataSet:"string"==typeof t.dataSet?E(t.dataSet):t.dataSet})))}function ii(t,e=(t=>t)){const i=f(t)?t:E(t);return e(new Ke(i)).build()}function ni(t,e=(t=>t)){(0,o.kG)(t,"measure must be specified");const i=function(t){if(W(t))return new Ke(t);if(Q(t))return new Xe(t);if(Y(t))return new ti(t);if(K(t))return new ei(t);if(z(t))return new Qe(t);throw new o.ej("unexpected measure type")}(t);return e(i).build()}function ri(t,e=(t=>t)){return(0,o.kG)(t,"measure must be specified"),e(new Ke(t)).build()}function ui(t){return(0,o.kG)(t,"maql must be specified"),new Qe(t).build()}function oi(t,e=(t=>t)){return(0,o.kG)(t,"measure must be specified"),e(new Qe(t)).build()}function si(t,e=(t=>t)){return(0,o.kG)(t,"measure must be specified"),e(new ti(t)).build()}function ai(t,e=(t=>t)){return(0,o.kG)(t,"measure must be specified"),e(new ei(t)).build()}function ci(t,e,i=(t=>t)){return i(new Xe({measuresOrIds:t,operator:e})).build()}function fi(t,e,i=(t=>t)){return i(new Je({measuresOrIds:t,operator:e})).build()}function li(t,e,i=(t=>t)){return i(new ti({measureOrLocalId:t,popAttrIdOrRef:e})).build()}function di(t,e,i=(t=>t)){return i(new ei({measureIdOrLocalId:t,dateDataSets:e})).build()}var mi=i(8961);const pi=t=>!0,bi=t=>e=>e.localIdentifier===t;function hi(t){return!(0,u.Z)(t)&&void 0!==t.localIdentifier&&void 0!==t.items}const gi=["Sum","Count","Avg","Min","Max","Median","Runsum"];function Ii(t){return H(t)?st(t):h(t)?D(t):void 0}function ki(t,...e){(0,o.kG)(t,"local identifier must be specified");const i=[],n=[];(e??[]).forEach((e=>{if(!e)return;const r="Contents of a bucket must be either attribute, measure or total.";if(h(e)||H(e))i.push(e);else if(Dt(e))n.push(e);else if(Array.isArray(e))(0,o.kG)(!1,`newBucket called with an array of length ${e.length} as one of the items for bucket ${t}.Please make sure that you are not trying to put an array of items into a bucket that only accepts single item.`);else if("object"==typeof e){if(Object.keys(e).indexOf("Default")>-1){const t=function(t){const e=[];for(const i of Object.keys(t)){const n=Ii(t[i]);n&&e.push({[i]:n})}return e}(e).map((t=>{const e=Object.keys(t)[0];return`${e}: ${t[e]}`}));(0,o.kG)(!1,`${r} It looks like you used an attribute from generated metadata containing more than one display form. Use one of the following display forms instead: ${t.join(", ")}.`)}const t=(0,mi.Z)(gi,Object.keys(e));if(!(0,u.Z)(t)){const i=Ii(e[t[0]]);(0,o.kG)(!1,`${r} It looks like you used an object ${i} from generated metadata. You need to use one of the following aggregation functions instead: ${t.join(", ")}.`)}(0,o.kG)(!1,`${r} Got unknown content object: ${s(e)}.`)}else(0,o.kG)(!1,`${r} Got unsupported content of type ${typeof e}: ${e}.`)}));const r=(0,u.Z)(n)?{}:{totals:n};return{localIdentifier:t,items:i,...r}}function yi(t){return(0,o.kG)(t,"bucket must be specified"),0===t.items.length&&(!t.totals||0===t.totals.length)}function Di(t,e=g){(0,o.kG)(t,"bucket must be specified");const i="string"==typeof e?I(e):e;return t.items.findIndex((t=>h(t)&&i(t)))}function Ai(t,e=g){const i=Di(t,e);return i>=0?t.items[i]:void 0}function Fi(t,e=g){return(0,o.kG)(t,"bucket must be specified"),t.items.filter((t=>h(t)&&e(t)))}function vi(t,e=V){(0,o.kG)(t,"bucket must be specified");const i="string"==typeof e?B(e):e;return t.items.findIndex((t=>H(t)&&i(t)))}function Gi(t,e=V){const i=vi(t,e);return i>=0?t.items[i]:void 0}function Mi(t,e=V){return(0,o.kG)(t,"bucket must be specified"),t.items.filter((t=>H(t)&&e(t)))}function Zi(t){return(0,o.kG)(t,"bucket must be specified"),t.items}function Ei(t){return(0,o.kG)(t,"bucket must be specified"),t.totals?t.totals:[]}function Ri(t,e=[]){return(0,o.kG)(t,"bucket must be specified"),{...t,totals:e}}var Si;function Ti(t,e=Si.SINGLE_MEASURE_ONLY){return(0,o.kG)(t,"items must be specified"),e===Si.ANY_MEASURE?t:t.filter(H).length>1||e===Si.NEVER?t.map(wi):t}function wi(t){return W(t)?ri(t,(t=>t.noRatio())):t}function Li(t,e=(t=>t)){(0,o.kG)(t,"bucket must be specified");const i=Zi(t);return{...t,items:i.map((t=>e(t)))}}function Oi(t,e=(t=>t)){(0,o.kG)(t,"bucket must be specified");const i=Zi(t).reduce(((t,i,n,r)=>e(t,i,n,r)),[]);return{...t,items:i}}function Ci(t,e=g){return(0,o.kG)(t,"buckets must be specified"),t.length?t.flatMap((t=>Fi(t,e))):[]}function Ni(t,e=V){return(0,o.kG)(t,"buckets must be specified"),t.length?t.flatMap((t=>Mi(t,e))):[]}function $i(t,e=pi){(0,o.kG)(t,"buckets must be specified");const i="string"==typeof e?bi(e):e;return t.find(i)}function Pi(t,e=g){if((0,o.kG)(t,"buckets must be specified"),!t.length)return;const i="string"==typeof e?I(e):e;for(const e of t){const t=e.items.findIndex((t=>h(t)&&i(t)));if(t>=0){const i=e.items[t];return h(i)?{bucket:e,idx:t,attribute:i}:void 0}}}function Ui(t,e=V){if((0,o.kG)(t,"buckets must be specified"),!t.length)return;const i="string"==typeof e?B(e):e;for(const e of t){const t=e.items.findIndex((t=>H(t)&&i(t)));if(t>=0){const i=e.items[t];return H(i)?{bucket:e,idx:t,measure:i}:void 0}}}function _i(t,...e){return(0,o.kG)(t,"buckets must be specified"),t.length&&e?.length?t.filter((t=>t.localIdentifier&&e.indexOf(t.localIdentifier)>=0)):[]}function xi(t){return(0,o.kG)(t,"buckets must be specified"),t.flatMap((t=>Zi(t)))}function ji(t){return(0,o.kG)(t,"buckets must be specified"),t.flatMap((t=>Ei(t)))}function Vi(t){return(0,o.kG)(t,"buckets must be specified"),!t.length||t.every(yi)}function Bi(t,e=(t=>t)){return(0,o.kG)(t,"buckets must be specified"),t.map((t=>Li(t,e)))}function Hi(t,e=(t=>t)){return(0,o.kG)(t,"buckets must be specified"),t.map((t=>Oi(t,e)))}function Wi(t){if((0,o.kG)(t,"bucketItem must be specified"),h(t))return k(t);if(H(t))return ut(t);throw new o.ej(`Unknown bucketItem "${t}"`)}function zi(t){return(0,o.kG)(t,"attribute must not be undefined"),s(t)||"undefined"}function qi(t){return s(t)||"undefined"}!function(t){t[t.NEVER=0]="NEVER",t[t.SINGLE_MEASURE_ONLY=1]="SINGLE_MEASURE_ONLY",t[t.ANY_MEASURE=2]="ANY_MEASURE"}(Si||(Si={}));var Yi=i(48568);function Ki(t){const e=(0,Yi.Z)({totals:[]},t);return s(e)||"undefined"}function Qi(t){return me(t)?!!t.measureValueFilter.condition:!Jt(t)||!Fe(t.negativeAttributeFilter.notIn)}function Xi(t){return Qi(t)?s(t):void 0}function Ji(t){return W(t)?function(t){const{measureDefinition:e}=t.measure.definition,i={...e,filters:e.filters?.filter(Qi)},n=(0,Yi.Z)({filters:[],computeRatio:!1},i),r={measure:{...t.measure,definition:{measureDefinition:n}}};return s(r)||"undefined"}(t):s(t)||"undefined"}function tn(t,e=[]){return(0,o.kG)(t,"execution definition to add more filters to must be defined"),(0,u.Z)(e)?t:{...t,filters:qe(t.filters,e)}}function en(t,e=[]){return(0,o.kG)(t,"execution definition to set buckets to must be defined"),{...t,buckets:e}}function nn(t,e=[]){return(0,o.kG)(t,"execution definition to set sorts in must be defined"),{...t,sortBy:e}}function rn(t,e){return(0,o.kG)(t,"execution definition to set execution config in must be defined"),{...t,executionConfig:e}}function un(t,e){return(0,o.kG)(t,"execution definition to set post processing in must be defined"),{...t,postProcessing:e}}function on(t,e){return(0,o.kG)(t,"execution definition to get totals for must be defined"),t.dimensions[e]?Zt(t.dimensions[e]):[]}function sn(t,e=[]){return(0,o.kG)(t,"execution definition to set dimension for must be defined"),{...t,dimensions:e}}function an(t){(0,o.kG)(t,"execution definition to calculate fingerprint for must be defined");const e=new Z,i=e.append.bind(e);var n;return e.append(t.workspace),t.attributes.map(zi).forEach(i),t.measures.map(Ji).forEach(i),t.filters.map(Xi).filter((t=>"string"==typeof t)).forEach(i),t.sortBy.map(qi).forEach(i),t.dimensions.map(Ki).forEach(i),t.executionConfig?.dataSamplingPercentage&&i((n=t.executionConfig?.dataSamplingPercentage,n?n.toString():"undefined")),t.executionConfig?.timestamp&&i(t.executionConfig.timestamp),e.end()}function cn(t){const e=[...t.attributes,...t.measures],i=(0,We.Z)(e,(t=>h(t)?k(t):ut(t)));Object.entries(i).forEach((([t,e])=>{(0,o.kG)(1===e.length,`There are ${e.length} items with the same localId '${t}'. Please make sure the attributes and measures in the execution definition have unique localIds.`)}))}var fn=i(87783);function ln(t){return!(0,u.Z)(t)&&!!t.color&&!!t.id}function dn(t){return!(0,u.Z)(t)&&void 0!==t.insight}function mn(t,e=pi){return(0,o.kG)(t,"insight must be specified"),$i(t.insight.buckets,e)}function pn(t,...e){return(0,o.kG)(t,"insight must be specified"),(0,u.Z)(e)?t.insight.buckets:_i(t.insight.buckets,...e)}function bn(t){return(0,o.kG)(t,"insight must be specified"),xi(t.insight.buckets)}function hn(t,e=V){return(0,o.kG)(t,"insight must be specified"),Ni(t.insight.buckets,e)}function gn(t){return(0,o.kG)(t,"insight must be specified"),hn(t).length>0}function In(t,e=g){return(0,o.kG)(t,"insight must be specified"),Ci(t.insight.buckets,e)}function kn(t){return(0,o.kG)(t,"insight must be specified"),In(t).length>0}function yn(t){return(0,o.kG)(t,"insight must be specified"),t.insight.buckets.length>0&&(gn(t)||kn(t))}function Dn(t){return(0,o.kG)(t,"insight must be specified"),t.insight.filters}function An(t){return(0,o.kG)(t,"insight must be specified"),t.insight.attributeFilterConfigs}function Fn(t){(0,o.kG)(t,"insight must be specified");const e=In(t).map(k),i=hn(t).map(ut);function n(t,e){return(0,mi.Z)(t,e).length===e.length}return t.insight.sorts.filter((t=>{const r=_t(t);return n(e,r.attributeIdentifiers)&&n(i,r.measureIdentifiers)}))}function vn(t){return(0,o.kG)(t,"insight must be specified"),ji(t.insight.buckets)}function Gn(t){return(0,o.kG)(t,"insight must be specified"),t.insight.properties}function Mn(t){return(0,o.kG)(t,"insight to get vis class URI from must be specified"),t.insight.visualizationUrl}function Zn(t){return(0,o.kG)(t,"insight to get vis type must be specified"),Mn(t)?.split(":")[1]||""}function En(t){return(0,o.kG)(t,"insight to get title from must be specified"),t.insight.title}function Rn(t){return(0,o.kG)(t,"insight must be specified"),t.insight.tags??[]}function Sn(t){return(0,o.kG)(t,"insight must be specified"),t.insight.summary??""}function Tn(t){return(0,o.kG)(t,"insight to get ref of must be specified"),t.insight.ref}function wn(t){return(0,o.kG)(t,"insight to get id of must be specified"),t.insight.identifier}function Ln(t){return(0,o.kG)(t,"insight to get uri of must be specified"),t.insight.uri}function On(t){return(0,o.kG)(t,"insight must be specified"),t.insight.created}function Cn(t){return(0,o.kG)(t,"insight must be specified"),t.insight.createdBy}function Nn(t){return(0,o.kG)(t,"insight must be specified"),t.insight.updated}function $n(t){return(0,o.kG)(t,"insight must be specified"),t.insight.updatedBy}function Pn(t){return(0,o.kG)(t,"insight must be specified"),t.insight.isLocked||!1}function Un(t,e={}){return(0,o.kG)(t,"insight must be specified"),{insight:{...t.insight,properties:e}}}function _n(t,e=[]){return(0,o.kG)(t,"insight must be specified"),{insight:{...t.insight,sorts:e}}}function xn(t,e=[]){return(0,o.kG)(t,"insight must be specified"),{insight:{...t.insight,filters:e}}}function jn(t,e=[]){return(0,o.kG)(t,"insight must be specified"),{insight:{...t.insight,buckets:e}}}function Vn(t,e=(t=>t)){(0,o.kG)(t,"insight must be specified");const i=pn(t);return{insight:{...t.insight,buckets:Bi(i,e)}}}function Bn(t,e=(t=>t)){(0,o.kG)(t,"insight must be specified");const i=pn(t);return{insight:{...t.insight,buckets:Hi(i,e)}}}function Hn(t){return(0,o.kG)(t,"insight must be specified"),{inAttributes:(0,fn.Z)(In(t).map(v),m),inFilters:(0,fn.Z)(Dn(t).filter(le).map((t=>Ee(t))),m),inMeasureFilters:(0,fn.Z)(hn(t).flatMap((t=>(It(t)??[]).filter(le).map((t=>Ee(t))))),m)}}function Wn(t){return(0,o.kG)(t,"vis class to get URL from must be specified"),t.visualizationClass.url}function zn(t){return(0,o.kG)(t,"vis class to get URI from must be specified"),t.visualizationClass.uri}function qn(t){return(0,o.kG)(t,"vis class to get URI from must be specified"),t.visualizationClass.identifier}function Yn(t){return{workspace:t,buckets:[],attributes:[],measures:[],dimensions:[],filters:[],sortBy:[],postProcessing:{}}}function Kn(t,e,i=[]){(0,o.kG)(t,"workspace to create exec def for must be specified"),(0,o.kG)(e,"items to create exec def from must be specified");const n={...Yn(t),attributes:e.filter(h),measures:e.filter(H)};return cn(n),tn(n,i)}function Qn(t,e,i=[]){(0,o.kG)(t,"workspace to create exec def for must be specified"),(0,o.kG)(e,"buckets to create exec def from must be specified");const n={...Yn(t),buckets:e,attributes:Ci(e),measures:Ni(e)};return cn(n),tn(n,i)}function Xn(t,e,i=[]){(0,o.kG)(t,"workspace to create exec def for must be specified"),(0,o.kG)(e,"insight to create exec def from must be specified");const n=Qn(t,pn(e));cn(n);const r=i||[];return nn(tn(n,[...Dn(e),...r]),Fn(e))}function Jn(t,e){return nn(t,e)}function tr(t,e){return rn(t,e)}function er(t,e){return un(t,e)}function ir(t,e){return er(t,{...t.postProcessing||{},dateFormat:e})}function nr(t,...e){return en(t,e)}function rr(t,...e){return sn(t,function(t,e){if(!t||(0,u.Z)(t))return[];const i=t[0];return"function"==typeof i?i(e):t.filter(Mt)}(e,t))}function ur(t){(0,o.kG)(t,"definition must be specified");const e=t.buckets;return Vi(e)?function(t){return t.measures.length?Rt([vt],t.attributes):[St(t.attributes)]}(t):function(t){const[e,...i]=t;if(Vi(i))return Mi(e).length?Rt([vt],Fi(e)):[St(Fi(e))];const n=Fi(e),r=Ci(i);return Mi(e).length?Rt([...n,vt],r):Rt(n,[...r,vt])}(e)}function or(t){return void 0!==t&&"number"==typeof t&&t>=0&&t<256}function sr(t){if(!(0,u.Z)(t)){const{guid:e,fill:i}=t;return"string"==typeof e&&void 0!==e&&function(t){if(!(0,u.Z)(t)){const{r:e,g:i,b:n}=t;return or(e)&&or(i)&&or(n)}return!1}(i)}return!1}function ar(t){return!(0,u.Z)(t)&&"guid"===t.type}function cr(t){return!(0,u.Z)(t)&&"rgb"===t.type}function fr(t){const{r:e,g:i,b:n}=t.fill;return`rgb(${e},${i},${n})`}function lr(t){return t.map(fr)}const dr=t=>e=>(i,n)=>{const r=t(i),u=t(n);if(r===u)return 0;if(void 0===r)return"asc"===e?1:-1;if(void 0===u)return"asc"===e?-1:1;const o=r?.localeCompare(u);return"asc"===e?o:-o},mr=dr(En),pr=dr((t=>Cn(t)?.fullName)),br=dr((t=>$n(t)?.fullName)),hr=dr(On),gr=dr(Nn);function Ir(t,e=(t=>t)){return e(new kr(t)).build()}class kr{insight;constructor(t){this.insight={visualizationUrl:t,title:"Untitled",buckets:[],filters:[],sorts:[],properties:{}}}title=t=>(this.insight.title=t,this);buckets=t=>(this.insight.buckets=t,this);filters=t=>(this.insight.filters=t,this);attributeFilterConfigs=t=>(this.insight.attributeFilterConfigs=t,this);sorts=t=>(this.insight.sorts=t,this);properties=t=>(this.insight.properties=t,this);build=()=>({insight:this.insight})}const yr="columns";function Dr(t){return function(t){const e=Fn(t),i=In(t).map(k);return jn(t,pn(t).map((t=>{const n=Ar(t,e).filter((t=>i.includes(t.attributeIdentifier)));return n.length!==Ei(t).length?Ri(t,n):t})))}(t)}function Ar(t,e,i){const n=i??Ei(t);return t.localIdentifier!==yr&&function(t,e){return e.some((e=>{if(wt(e)){const i=_t(e).attributeIdentifiers[0];return Di(t,i)>0}if(Ct(e))return!0;throw new o.ej('Unexpected sortType, only supported sortTypes are "attributeSortItem" and "measureSortItem"')}))}(t,e)?function(t,e){return t.filter((t=>0===Di(e,t.attributeIdentifier)))}(n,t):n}var Fr=i(94110);const vr={singleQuotes:!1,inlineCharacterLimit:50,indent:"    "},Gr=t=>Fr(t,vr),Mr=", ",Zr=t=>a(t)?`uriRef("${t.uri}")`:c(t)?t.type?`idRef("${t.identifier}", "${t.type}")`:`idRef("${t.identifier}")`:`localIdRef("${t.localIdentifier}")`,Er=(t,e=t)=>i=>n=>i[t]?`${n}.${e}("${i[t].split("\n").join("\\n")}")`:n,Rr=Er("aggregation"),Sr=Er("alias"),Tr=Er("format"),wr=Er("localIdentifier","localId"),Lr=Er("title"),Or=({filters:t})=>e=>t?.length?`${e}.filters(${t.map((t=>Ur(t))).join(Mr)})`:e,Cr=({computeRatio:t})=>e=>t?`${e}.ratio()`:e,Nr=(t,e)=>{const i=e.reduce(((t,e)=>e(t)),t);return i===t?"undefined":i},$r=t=>[Sr(t),Tr(t),wr(t),Lr(t)],Pr=(t,e)=>h(t)?(({attribute:t})=>{const e=Nr("a => a",[Sr(t),wr(t)]);return`newAttribute(${Zr(t.displayForm)}, ${e})`})(t):H(t)?(({measure:t})=>{const{definition:e}=t;if(J(e))return((t,e)=>{const i=Nr("m => m",[...$r(t),Rr(e.measureDefinition),Or(e.measureDefinition),Cr(e.measureDefinition)]);return`newMeasure(${Zr(e.measureDefinition.item)}, ${i})`})(t,e);if(nt(e))return((t,e)=>{const i=Nr("m => m",$r(t));return`newArithmeticMeasure(${Gr(e.arithmeticMeasure.measureIdentifiers)}, "${e.arithmeticMeasure.operator}", ${i})`})(t,e);if(et(e))return((t,e)=>{const i=Nr("m => m",$r(t));return`newPopMeasure("${e.popMeasureDefinition.measureIdentifier}", ${Zr(e.popMeasureDefinition.popAttribute)}, ${i})`})(t,e);if(it(e))return((t,e)=>{const i=Nr("m => m",$r(t)),n=e.previousPeriodMeasure.dateDataSets?.map((t=>`{\n    dataSet: ${Zr(t.dataSet)},\n    periodsAgo: ${t.periodsAgo}\n}`)).join(Mr);return`newPreviousPeriodMeasure("${e.previousPeriodMeasure.measureIdentifier}", [${n}], ${i})`})(t,e);if(tt(e))return((t,e)=>{const i=Nr("m => m",$r(t));return`newInlineMeasure(${Gr(e.inlineDefinition.maql)}, ${i})`})(t,e);throw new Error("Unknown measure type")})(t):Lt(t)?(({attributeSortItem:t})=>`newAttributeAreaSort("${t.attributeIdentifier}", "${t.direction}", "${t.aggregation}")`)(t):wt(t)?(({attributeSortItem:t})=>`newAttributeSort("${t.attributeIdentifier}", "${t.direction}")`)(t):Ct(t)?(({measureSortItem:t})=>{const e=t.locators||[],i=e.find((t=>Pt(t))),n=e.filter((t=>!Pt(t)));return`newMeasureSort(${(0,He.Z)([`"${i.measureLocatorItem.measureIdentifier}"`,`"${t.direction}"`,n?.length>0&&Gr(n)]).join(Mr)})`})(t):te(t)?(({absoluteDateFilter:{dataSet:t,from:e,to:i,localIdentifier:n}})=>{const r=(0,He.Z)([e,i,n]).map(Gr);return`newAbsoluteDateFilter(${[Zr(t),...r].join(Mr)})`})(t):ee(t)?(({relativeDateFilter:t})=>{const{dataSet:e,granularity:i,from:n,to:r,localIdentifier:u}=t,o=ie(t)?t.boundedFilter:void 0,s=[i,n,r].map(Gr),a=null!=u&&null!=o?[Gr(u),Gr(o)]:null!=u?[Gr(u)]:null!=o?["undefined",Gr(o)]:[];return`newRelativeDateFilter(${[Zr(e),...s,...a].join(Mr)})`})(t):Xt(t)?(({positiveAttributeFilter:{displayForm:t,in:e}})=>{const i=(0,He.Z)([e]).map(Gr);return`newPositiveAttributeFilter(${[Zr(t),...i].join(Mr)})`})(t):Jt(t)?(({negativeAttributeFilter:{displayForm:t,notIn:e}})=>{const i=(0,He.Z)([e]).map(Gr);return`newNegativeAttributeFilter(${[Zr(t),...i].join(Mr)})`})(t):me(t)?(({measureValueFilter:{measure:t,condition:e}})=>{const i=Zr(t);return he(e)?`newMeasureValueFilter(${(0,He.Z)([i,`"${e.comparison.operator}"`,`${e.comparison.value}`,!(null===e.comparison.treatNullValuesAs||void 0===e.comparison.treatNullValuesAs)&&`${e.comparison.treatNullValuesAs}`]).join(Mr)})`:Ie(e)?`newMeasureValueFilter(${(0,He.Z)([i,`"${e.range.operator}"`,`${e.range.from}`,`${e.range.to}`,!(null===e.range.treatNullValuesAs||void 0===e.range.treatNullValuesAs)&&`${e.range.treatNullValuesAs}`]).join(Mr)})`:`{ measureValueFilter: { measure: ${i} }`})(t):pe(t)?(({rankingFilter:{measure:t,attributes:e,value:i,operator:n}})=>{const r=e?.map(Zr).join(Mr);return`newRankingFilter(${[Zr(t),r&&`[${r}]`,`"${n}"`,`${i}`].filter((t=>"string"==typeof t)).join(Mr)})`})(t):Dt(t)?(({attributeIdentifier:t,measureIdentifier:e,type:i,alias:n})=>`newTotal(${(0,He.Z)([i,e,t,n]).map(Gr).join(Mr)})`)(t):e?.(t),Ur=(t,e)=>Pr(t,e)??Fr(t,{...vr,transform(t,i,n){return Pr(t[i],e)??n}}),_r=["GDC.time.minute","GDC.time.hour","GDC.time.date","GDC.time.week_us","GDC.time.month","GDC.time.quarter","GDC.time.year"],xr=t=>!(0,u.Z)(t)&&_r.some((e=>e===t)),jr=t=>!(0,u.Z)(t)&&"allTime"===t.type,Vr=t=>!(0,u.Z)(t)&&"absoluteForm"===t.type,Br=t=>!(0,u.Z)(t)&&"absolutePreset"===t.type,Hr=t=>!(0,u.Z)(t)&&"relativeForm"===t.type,Wr=t=>!(0,u.Z)(t)&&"relativePreset"===t.type;function zr(t){return!(0,u.Z)(t)&&!!t.attributeFilter}function qr(t){return"single"===t.attributeFilter.selectionMode}function Yr(t){return!!t.attributeFilter.negativeSelection}function Kr(t){return ye(t.attributeFilter.attributeElements)?t.attributeFilter.attributeElements.uris.length:t.attributeFilter.attributeElements.values.length}function Qr(t){return!(0,u.Z)(t)&&!!t.dateFilter}function Xr(t){return!(0,u.Z)(t)&&!!t.dateFilter&&!t.dateFilter.dataSet}function Jr(t){return!(0,u.Z)(t)&&!!t.dateFilter&&!!t.dateFilter.dataSet}function tu(t){return"relative"===t.dateFilter.type}function eu(t){return"absolute"===t.dateFilter.type}function iu(t,e,i,n,r,u){return{dateFilter:{type:"relative",granularity:t,from:e,to:i,dataSet:n,...u?{boundedFilter:u}:{},...r?{localIdentifier:r}:{}}}}function nu(t,e,i,n){return{dateFilter:{type:"absolute",granularity:"GDC.time.date",from:t,to:e,dataSet:i,...n?{localIdentifier:n}:{}}}}function ru(t,e){return{dateFilter:{type:"relative",granularity:"GDC.time.date",dataSet:t,...e?{localIdentifier:e}:{}}}}function uu(t){return Qr(t)&&(null===t.dateFilter.from||void 0===t.dateFilter.from)&&(null===t.dateFilter.to||void 0===t.dateFilter.to)}function ou(t){return!(!zr(t)||!t.attributeFilter.negativeSelection)&&(ye(t.attributeFilter.attributeElements)?0===t.attributeFilter.attributeElements.uris.length:0===t.attributeFilter.attributeElements.values.length)}function su(t){return zr(t)?t.attributeFilter.displayForm:Qr(t)?t.dateFilter.dataSet:void 0}function au(t){return zr(t)?t.attributeFilter.localIdentifier:Qr(t)?t.dateFilter.localIdentifier:void 0}function cu(t){return Qr(t)||zr(t)}function fu(t){return hu(t)&&!f(t.ref)}function lu(t){return hu(t)&&f(t.ref)}function du(t){return hu(t)&&f(t.ref)&&!t.identifier&&!t.title}function mu(t){return!(0,u.Z)(t)&&"dateFilterReference"===t.type}function pu(t){return!(0,u.Z)(t)&&"attributeFilterReference"===t.type}function bu(t){return pu(t)?t.displayForm:t.dataSet}function hu(t){return!(0,u.Z)(t)&&!!t.filters}function gu(t){return ku(t)&&(!f(t.ref)||fu(t.filterContext))}function Iu(t){return ku(t)&&!gu(t)}function ku(t){return!(0,u.Z)(t)&&("underThreshold"===t.whenTriggered||"aboveThreshold"===t.whenTriggered)}function yu(t){return!(0,u.Z)(t)&&"drillFromMeasure"===t.type}function Du(t){return!(0,u.Z)(t)&&"drillFromAttribute"===t.type}function Au(t){return!(0,u.Z)(t)&&"drillToLegacyDashboard"===t.type}function Fu(t){return!(0,u.Z)(t)&&"drillToDashboard"===t.type}function vu(t){return!(0,u.Z)(t)&&"drillToInsight"===t.type}function Gu(t){return!(0,u.Z)(t)&&"drillToCustomUrl"===t.type}function Mu(t){return!(0,u.Z)(t)&&"drillToAttributeUrl"===t.type}function Zu(t){return!(0,u.Z)(t)&&"attributeHierarchyReference"===t.type}function Eu(t){return!(0,u.Z)(t)&&"dateHierarchyReference"===t.type}function Ru(t){return"attributeHierarchyReference"===t.type?t.attributeHierarchy:t.dateHierarchyTemplate}function Su(t){return"attributeHierarchyReference"===t.type?t.attribute:t.dateDatasetAttribute}function Tu(t){return!(0,u.Z)(t)&&"crossFiltering"===t.type}function wu(t){return!(0,u.Z)(t)&&"keyDriveAnalysis"===t.type}const Lu=["kpi","insight","richText","visualizationSwitcher"];function Ou(t){return Cu(t)||Nu(t)}function Cu(t){return!(0,u.Z)(t)&&("previousPeriod"===t.comparisonType||"lastYear"===t.comparisonType)}function Nu(t){return!(0,u.Z)(t)&&"none"===t.comparisonType}function $u(t){return!(0,u.Z)(t)&&"attribute"===t.type}function Pu(t){return!(0,u.Z)(t)&&"attributeHierarchy"===t.type}function Uu(t){return!(0,u.Z)(t)&&"dateAttributeHierarchy"===t.type}const _u=t=>Pu(t)?t.attributeHierarchy.ref:t.ref,xu=t=>Pu(t)?t.attributeHierarchy.title:t.title,ju=t=>Pu(t)?t.attributeHierarchy.attributes:t.attributes;function Vu(t){return!(0,u.Z)(t)&&"fact"===t.type}function Bu(t){return!(0,u.Z)(t)&&"measure"===t.type}const Hu=t=>{let e;if(e=$u(t)?t.attribute:Bu(t)?t.measure:Vu(t)?t.fact:Pu(t)?t.attributeHierarchy:t.dataSet,!e)throw new Error("Catalog metadata item not found!");return e};function Wu(t){const e=t;return!(0,u.Z)(t)&&Boolean(e.attribute&&e.defaultDisplayForm&&e.granularity)}function zu(t){return!(0,u.Z)(t)&&"dateDataset"===t.type}const qu=t=>t.id;function Yu(t){const e=t;return!(0,u.Z)(e)&&void 0!==e.type&&void 0!==e.ref}function Ku(t){return(0,o.kG)(t,"displayForm must be specified"),t.ref}function Qu(t){return(0,o.kG)(t,"displayForm must be specified"),t.title}function Xu(t){return(0,o.kG)(t,"displayForm must be specified"),t.attribute}function Ju(t){return Yu(t)&&"displayForm"===t.type}function to(t){return Yu(t)&&"attribute"===t.type}function eo(t){return Yu(t)&&"dataSet"===t.type}function io(t){return Yu(t)&&"variable"===t.type}function no(t){return Yu(t)&&"fact"===t.type}function ro(t){return Yu(t)&&"measure"===t.type}function uo(t){return"measure"===t.type&&void 0===t.ref}function oo(t){return Yu(t)&&"analyticalDashboard"===t.type}function so(t){return Yu(t)&&"attributeHierarchy"===t.type}function ao(t){return fo(t)&&!f(t.ref)}function co(t){return fo(t)&&f(t.ref)}function fo(t){return!(0,u.Z)(t)&&["kpi","richText","insight","visualizationSwitcher"].some((e=>t.type===e))}function lo(t){return(0,o.kG)(t,"widget to get identifier of must be specified"),t.identifier}function mo(t){return(0,o.kG)(t,"widget to get uri of must be specified"),t.uri}function po(t){return(0,o.kG)(t,"widget to get ref of must be specified"),t.ref}function bo(t){return(0,o.kG)(t,"widget to get type of must be specified"),t.type}function ho(t){return(0,o.kG)(t,"widget to get title of must be specified"),t.title}function go(t){return co(t)&&"insight"===t.type}function Io(t){return ao(t)&&"insight"===t.type}function ko(t){return co(t)&&"kpi"===t.type}function yo(t){return ao(t)&&"kpi"===t.type}function Do(t){return co(t)&&"richText"===t.type}function Ao(t){return ao(t)&&"richText"===t.type}function Fo(t){return co(t)&&"visualizationSwitcher"===t.type}function vo(t){return ao(t)&&"visualizationSwitcher"===t.type}function Go(t){return!(0,u.Z)(t)&&void 0!==t.dashboard}function Mo(t){return!(0,u.Z)(t)&&void 0!==t.widget}function Zo(t){return(0,o.kG)(t,"user to get full name of must be specified"),t.fullName}function Eo(t){return!(0,u.Z)(t)&&void 0!==t.id}function Ro(t){return!(0,u.Z)(t)&&void 0!==t.id}const So=t=>[wo,co,ao].some((e=>e(t)));function To(t){return!(0,u.Z)(t)&&"number"==typeof t.size?.xl?.gridWidth}function wo(t){return!(0,u.Z)(t)&&"IDashboardLayout"===t.type}function Lo(t){return!(0,u.Z)(t)&&Array.isArray(t.items)}const Oo={READONLY:"readonly",HIDDEN:"hidden",ACTIVE:"active"},Co={READONLY:"readonly",HIDDEN:"hidden",ACTIVE:"active"};function No(t){const e=t;return!(0,u.Z)(e)&&"IDashboard"===e.type&&void 0!==e.ref}function $o(t){const e=t;return!(0,u.Z)(e)&&"IDashboard"===e.type}function Po(t){const e=t;return!(0,u.Z)(e)&&void 0!==e.availability&&void 0!==e.ref}function Uo(t){const e=t;return!(0,u.Z)(e)&&"string"==typeof e.identifier&&"string"==typeof e.title&&void 0!==e.filterContext}function _o(t){return!(0,u.Z)(t)&&!!t.decimal&&!!t.thousand}function xo(t){return!(0,u.Z)(t)&&void 0!==t.attributeHeader}function jo(t){return!(0,u.Z)(t)&&void 0!==t.measureGroupHeader}function Vo(t){return!(0,u.Z)(t)&&void 0!==t.measureHeaderItem}function Bo(t){return!(0,u.Z)(t)&&void 0!==t.totalHeaderItem}function Ho(t){return!(0,u.Z)(t)&&void 0!==t.colorHeaderItem}function Wo(t){return!(0,u.Z)(t)&&void 0!==t.attributeHeaderItem}function zo(t){return!(0,u.Z)(t)&&void 0!==t.measureHeaderItem?.order}function qo(t){return!(0,u.Z)(t)&&void 0!==t.totalHeaderItem?.type}function Yo(t){return Wo(t)?t.attributeHeaderItem.name:zo(t)?t.measureHeaderItem.name:t.totalHeaderItem.name}function Ko(t){return t.attributeHeader.localIdentifier}function Qo(t){return t.attributeHeader.formOf.name}const Xo=t=>!(0,u.Z)(t)&&"user"===t.type,Jo=t=>!(0,u.Z)(t)&&"group"===t.type,ts=t=>!(0,u.Z)(t)&&"granularUser"===t.type,es=t=>!(0,u.Z)(t)&&"granularGroup"===t.type,is=t=>ts(t)||es(t),ns=t=>!(0,u.Z)(t)&&"user"===t.type,rs=t=>!(0,u.Z)(t)&&"group"===t.type,us=t=>!(0,u.Z)(t)&&"granularUser"===t.type,os=t=>!(0,u.Z)(t)&&"granularGroup"===t.type,ss=t=>us(t)||os(t)||as(t),as=t=>!(0,u.Z)(t)&&"allWorkspaceUsers"===t.type,cs=t=>!(0,u.Z)(t)&&"user"===t.type,fs=t=>!(0,u.Z)(t)&&"group"===t.type,ls=t=>!(0,u.Z)(t)&&void 0!==t.workspace&&us(t),ds=t=>!(0,u.Z)(t)&&void 0!==t.workspace&&os(t),ms={MANAGE:"MANAGE",ANALYZE:"ANALYZE",EXPORT:"EXPORT",EXPORT_TABULAR:"EXPORT_TABULAR",EXPORT_PDF:"EXPORT_PDF",CREATE_FILTER_VIEW:"CREATE_FILTER_VIEW",VIEW:"VIEW",CREATE_AUTOMATION:"CREATE_AUTOMATION",USE_AI_ASSISTANT:"USE_AI_ASSISTANT"};function ps(t){return"string"==typeof t&&Object.values(ms).includes(t)}const bs={MANAGE:"MANAGE",USE:"USE"},hs={MANAGE:"MANAGE",SELF_CREATE_TOKEN:"SELF_CREATE_TOKEN"};function gs(t){return!(0,u.Z)(t)&&"dashboard"===t.type}function Is(t){return!(0,u.Z)(t)&&"visualizationObject"===t.type}function ks(t){return(0,o.kG)(t,"export definition to get title from must be specified"),t.title}function ys(t){return(0,o.kG)(t,"export definition must be specified"),t.created}function Ds(t){return(0,o.kG)(t,"export definition must be specified"),t.updated}function As(t){return Fs(t)&&!(0,u.Z)(t.id)}function Fs(t){return!(0,u.Z)(t)&&"automation"===t.type}function vs(t){return!(0,u.Z)(t)&&"user"===t.type}function Gs(t){return!(0,u.Z)(t)&&"userGroup"===t.type}function Ms(t){return!(0,u.Z)(t)&&"externalUser"===t.type}function Zs(t){return!(0,u.Z)(t)&&"unknownUser"===t.type}function Es(t){return Boolean("type"in t&&"id"in t&&"workspaceId"in t&&"title"in t)}function Rs(t){return Boolean("sourceWorkspaceId"in t&&"sourceObjectId"in t&&"sourceObjectType"in t&&"sourceObjectTitle"in t&&"targetWorkspaceId"in t&&"targetObjectId"in t&&"targetObjectType"in t&&"targetObjectTitle"in t)}const Ss={IDENTICAL_TITLE:"IDENTICAL_TITLE",IDENTICAL_DESCRIPTION:"IDENTICAL_DESCRIPTION",SIMILAR_TITLE:"SIMILAR_TITLE",SIMILAR_DESCRIPTION:"SIMILAR_DESCRIPTION",UNKNOWN_ABBREVIATION:"UNKNOWN_ABBREVIATION"},Ts={INFO:0,WARNING:1}}}]);