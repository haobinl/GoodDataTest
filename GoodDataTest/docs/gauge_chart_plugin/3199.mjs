(self.webpackChunkgauge_chart_plugin=self.webpackChunkgauge_chart_plugin||[]).push([[3199],{16111:function(e,t,n){var l=n(97582),i=n(25167),s=n(63100),r=n(43261);function o(e){var t=(0,r.Z)(),n=t.formatMessage,l=t.textComponent,s=void 0===l?i.Fragment:l,o=e.id,a=e.description,d=e.defaultMessage,u=e.values,c=e.children,p=e.tagName,g=void 0===p?s:p,b=n({id:o,description:a,defaultMessage:d},u,{ignoreTag:e.ignoreTag});return"function"==typeof c?c(Array.isArray(b)?b:[b]):g?i.createElement(g,null,b):i.createElement(i.Fragment,null,b)}o.displayName="FormattedMessage";var a=i.memo(o,(function(e,t){var n=e.values,i=(0,l.__rest)(e,["values"]),r=t.values,o=(0,l.__rest)(t,["values"]);return(0,s.wU)(r,n)&&(0,s.wU)(i,o)}));a.displayName="MemoizedFormattedMessage",t.Z=a},79120:function(e,t,n){n.d(t,{e:function(){return s}});var l=n(5549),i=n(65165);function s({patternFill:e}){const t=(0,i.useIdPrefixed)("palette-item-pattern"),{path:n,opacity:s,width:r,height:o}=e,a="number"==typeof n.strokeWidth&&n.strokeWidth>0;return(0,l.jsxs)("svg",{"aria-hidden":"true",focusable:"false",width:"100%",height:"100%",preserveAspectRatio:"none",style:{display:"block",position:"absolute",inset:0},children:[(0,l.jsx)("defs",{children:(0,l.jsx)("pattern",{id:t,patternUnits:"userSpaceOnUse",width:r,height:o,children:(0,l.jsx)("path",{d:n.d,stroke:a?"currentColor":"none",fill:a?"none":"currentColor",opacity:s,strokeWidth:n.strokeWidth})})}),(0,l.jsx)("rect",{width:"100%",height:"100%",fill:`url(#${t})`})]})}},80961:function(e,t,n){n.d(t,{l:function(){return i}});var l=n(35967);class i extends l.eH{createColorAssignment(e,t,n,i,s){const r=i||n;return{fullColorAssignment:(0,l.O1)(r,e,t,s)}}}},35967:function(e,t,n){n.d(t,{HY:function(){return o},O1:function(){return a},eH:function(){return r}});var l=n(87783),i=n(70724),s=n(16576);class r{palette;fullColorAssignment;outputColorAssignment;theme;clusterTitle;constructor(e,t,n,l,i,s,r){this.theme=s;const{fullColorAssignment:o,outputColorAssignment:a}=this.createColorAssignment(e,t,n,l,i,r);this.fullColorAssignment=o,this.outputColorAssignment=a||o,this.palette=this.createPalette(e,this.fullColorAssignment,n,l)}getColorByIndex(e){return this.palette[e]}getColorAssignment(){return this.outputColorAssignment}getFullColorAssignment(){return this.fullColorAssignment}createPalette(e,t,n,l){return t.map(((t,n)=>{const l=(0,i.isColorFromPalette)(t.color)?(0,s.ju)(e,t.color.value,n):t.color.value;return(0,s.yx)(l)}))}}function o(e,t){return!!e&&("guid"!==e.type||function(e,t){return t.some((t=>"guid"===e.type&&e.value===t.guid))}(e,t))}function a(e,t,n,i){let r=0;return(0,l.Z)(e.items,"attributeHeaderItem.uri").map((e=>{const l=(0,s.gG)(e,n,i),a=l&&o(l,t)?l:{type:"guid",value:t[r%t.length].guid};return r++,{headerItem:e,color:a}}))}},16576:function(e,t,n){n.d(t,{CW:function(){return $},D4:function(){return p},EK:function(){return h},Hf:function(){return a},Mn:function(){return g},NK:function(){return k},Yt:function(){return f},c0:function(){return b},gG:function(){return m},i5:function(){return N},ju:function(){return I},m:function(){return x},mi:function(){return j},ob:function(){return c},wo:function(){return M},yx:function(){return w},z:function(){return v}});var l=n(50576),i=n(79697),s=n(70724),r=n(29422);function o(e){const t=e.match(/^rgba?\(([^)]+)\)$/i);if(!t)return null;const[n,l,i]=t[1].split(",").slice(0,3).map((e=>parseInt(e.trim(),10)));return Number.isFinite(n)&&Number.isFinite(l)&&Number.isFinite(i)?{r:n,g:l,b:i}:null}function a(e){if(!e)return null;const t=e.trim();return o(t)??function(e){if(!e.startsWith("#"))return null;const t=y(e),n=/^#([0-9a-f]{6})$/i.exec(t);if(!n)return null;const l=parseInt(n[1],16);return{r:l>>16&255,g:l>>8&255,b:255&l}}(t)??function(e){if("undefined"==typeof window||"undefined"==typeof document)return null;const t=document.createElement("div");t.style.display="none",t.style.color=e,document.body.appendChild(t);const n=getComputedStyle(t).color;return document.body.removeChild(t),o(n)}(t)}function d(e,t){const n=t<0?0:255,l=Math.abs(t);return Math.round((n-e)*l)+e}function u(e,t,n){return`rgb(${e},${t},${n})`}function c(e){const t=e.split(",");return{R:parseInt(t[0].slice(4),10),G:parseInt(t[1],10),B:parseInt(t[2],10)}}function p(e,t){const{R:n,G:l,B:i}=c(e);return u(d(n,t),d(l,t),d(i,t))}function g(e,t){const{R:n,G:l,B:i}=c(e),s=Math.abs(t),r=1-s,o=e=>{if(0===r)return e;const t=Math.round((e-255*s)/r);return Math.max(0,Math.min(255,t))};return u(o(n),o(l),o(i))}function b(e,t){const{r:n,g:l,b:i}=e;return{r:d(n,t),g:d(l,t),b:d(i,t)}}function y(e){if(4===e.length){const[t,n,l]=e.split("").slice(1);return"#"+t+t+n+n+l+l}return e}function h(e){return"string"!=typeof e?e:"rgb"===e.slice(0,3)?e.replace(/\s/g,""):y(e).replace(/#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/i,((e,t,n,l)=>`rgb(${[t,n,l].map((e=>parseInt(e,16).toString(10))).join(",")})`))}function x(e){try{return e.map(((e,t)=>{const{R:n,G:l,B:i}=c(h(e));if(isNaN(n)||isNaN(l)||isNaN(i))throw Error;return{guid:String(t),fill:{r:n,g:l,b:i}}}))}catch{return r.DefaultColorPalette}}function f(e){return!(0,l.Z)(e,r.DefaultColorPalette)}function m(e,t,n){if(!t)return;const l=t.find((t=>t.predicate(e,{dv:n})));return l?.color}function I(e,t,n){const l=e.find((e=>e.guid===t));return l?l.fill:e[n%e.length].fill}function w(e){return`rgb(${e.r},${e.g},${e.b})`}function v(e){const t=h(e),n=/rgb\((.*)\)/.exec(t);if(null===n)return null;const l=n[1],[i,s,r]=l.split(",").map((e=>parseInt(e)));return{r:i,g:s,b:r}}function A(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function C(e){return.2126*A(e.r)+.7152*A(e.g)+.0722*A(e.b)}function j(e,t){const n=a(e),l=a(t);if(!n||!l)return NaN;const i=C(n),s=C(l);return(Math.max(i,s)+.05)/(Math.min(i,s)+.05)}function k(e){return t=>{if((0,s.isResultAttributeHeader)(t))return!(!e&&null!==e&&""!==e)&&e===t.attributeHeaderItem.uri;if((0,s.isAttributeDescriptor)(t))return!!e&&(e===t.attributeHeader.uri||e===t.attributeHeader.identifier);if((0,s.isColorDescriptor)(t))return!!e&&e===t.colorHeaderItem.id;const n=(0,r.getMappingHeaderLocalIdentifier)(t);return!!n&&n===e}}function $(e,t){return t&&!(0,i.Z)(t)?t:e&&!(0,i.Z)(e)?x(e):r.DefaultColorPalette}const N={getColorByGuid:I,getColorMappingPredicate:k};function M(e){return!(0,i.Z)(e)&&void 0!==e.pattern}},33805:function(e,t,n){n.d(t,{n6:function(){return p}});var l=n(5549),i=n(94184),s=n(25972),r=n(40207),o=n(21034);function a({labels:e}){return(0,l.jsx)("div",{className:"labels","data-testid":"color-legend-labels",children:e.map((e=>{const{key:t,label:n,style:i}=e;return(0,l.jsx)("span",{style:i,children:n},t)}))})}function d({boxes:e}){return(0,l.jsx)("div",{className:"boxes","data-testid":"color-legend-boxes",children:e.map((e=>{const t=i("box",e.class),{key:n,style:s}=e;return(0,l.jsx)("span",{className:t,style:s},n)}))})}function u({renderLabelsFirst:e,boxes:t,labels:n}){return(0,l.jsxs)(l.Fragment,{children:[e?(0,l.jsx)(a,{labels:n}):null,(0,l.jsx)(d,{boxes:t}),!e&&(0,l.jsx)(a,{labels:n})]})}function c({title:e,position:t,children:n}){const s=t===o.GS||t===o.D,r=i("heatmap-legend-with-title",{horizontal:s});return(0,l.jsxs)("div",{className:r,children:[(0,l.jsx)("div",{className:"heatmap-legend-title",children:`${e}:`}),(0,l.jsx)("div",{className:"heatmap-legend-boxes",children:n})]})}const p=(0,s.Zz)((e=>{const{title:t,data:n,format:s,numericSymbols:a,size:d="large",position:p,theme:g}=e;if(!n.length)return null;const b=(0,r.sD)(n,s,a,d,p,g),y=i(...b.classes),h=b.position===o.GS,{boxes:x,labels:f}=b;return(0,l.jsx)("div",{className:y,"data-testid":"color-legend",children:t?(0,l.jsx)(c,{title:t,position:p,children:(0,l.jsx)(u,{renderLabelsFirst:h,boxes:x,labels:f})}):(0,l.jsx)(u,{renderLabelsFirst:h,boxes:x,labels:f})})}))},75131:function(e,t,n){n.d(t,{a:function(){return d}});var l=n(5549),i=n(24544),s=n(94184),r=n(40207),o=n(70934),a=n(3727);const d=(0,i.memo)((function(e){const{series:t,containerWidth:n,onItemClick:d=(()=>{}),enableBorderRadius:u,chartFill:c}=e,[p,g]=(0,i.useState)(!1),b=()=>{g(!p)},{itemWidth:y,hasPaging:h,visibleItemsCount:x}=(0,r.gz)(t.length,n);return(0,l.jsxs)("div",{className:"viz-legend fluid",children:[((e,n)=>{const i=p?t.length:n,s=t.slice(0,i);return(0,l.jsx)(a.c,{onToggleItem:d,series:s,children:(0,l.jsx)(o.I,{enableBorderRadius:u,series:s,onItemClick:d,width:e,chartFill:c})})})(y,x),h?(()=>{const e=s("gd-button-link","gd-button-icon-only","paging-button",{"gd-icon-chevron-up":p,"gd-icon-chevron-down":!p});return(0,l.jsx)("div",{className:"paging",children:(0,l.jsx)("button",{className:e,onClick:b})})})():null]})}))},55415:function(e,t,n){n.d(t,{a:function(){return i}});var l=n(5549);function i({label:e}){return e?(0,l.jsx)("div",{className:"series-item",children:(0,l.jsx)("div",{className:"series-name",children:`${e}:`})}):null}},70934:function(e,t,n){n.d(t,{I:function(){return A}});var l=n(5549),i=n(24544),s=n(38253),r=n(40207),o=n(43261),a=n(65165),d=n(17397);function u({item:e,width:t,children:n}){const i=(0,o.Z)(),{data:s,labelKey:r}=e,u=t?{width:`${t}px`}:{},c=(s||[]).reduce(((e,t,n)=>(e[n]=i.formatMessage(d.s[t]),e)),{}),p=(0,a.useIdPrefixed)("legend-group-label");return(0,l.jsxs)("div",{className:"legend-group",role:"group","aria-labelledby":p,children:[(0,l.jsx)("div",{id:p,style:u,className:"series-axis-indicator","data-testid":"legend-axis-indicator",children:(0,l.jsxs)("div",{className:"series-text",children:[i.formatMessage(d.s[r],c),i.formatMessage(d.s.colon)]})}),n]})}var c=n(94184),p=n(24061),g=n(25972),b=n(16576),y=n(79120);const h="#CCCCCC";function x(e,t,n){if(!e)return{borderRadius:n?"50%":"0"};switch(e){case"square":return{borderRadius:"0"};case"diamond":return{borderRadius:"0",transform:"rotate(45deg)",width:`${Math.round(.7*t)}px`,height:`${Math.round(.7*t)}px`};case"triangle":case"triangle-down":return{borderRadius:"0",width:"0",height:"0",backgroundColor:"transparent"};default:return{borderRadius:"50%"}}}function f(e,t,n,l){if("triangle"!==e&&"triangle-down"!==e)return{};const i={width:`${l}px`,height:`${l}px`};return"pattern"===t||"outline"===t?"triangle"===e?i.clipPath="polygon(50% 0%, 0% 100%, 100% 100%)":"triangle-down"===e&&(i.clipPath="polygon(0% 0%, 100% 0%, 50% 100%)"):(i.clipPath="none","triangle"===e?(i.borderLeft=l/2+"px solid transparent",i.borderRight=l/2+"px solid transparent",i.borderBottom=`${l}px solid ${n}`,i.borderTop="none"):"triangle-down"===e&&(i.borderLeft=l/2+"px solid transparent",i.borderRight=l/2+"px solid transparent",i.borderTop=`${l}px solid ${n}`,i.borderBottom="none")),i}var m=(0,g.Zz)((function({item:e,index:t,width:n,enableBorderRadius:r=!1,onItemClick:o,theme:d,chartFill:u,describedBy:g}){const{isFocused:m,id:I}=s.Jp.useContextStore((t=>({isFocused:t.focusedItem===e,id:t.makeItemId(e)}))),{registerItem:w}=(0,s.Q_)(),v=d?.palette?.complementary?.c5??h,A="pattern"===u&&(0,b.wo)(e.color),C=e.isVisible?e.color:v,j=function(e,t,n,l,i,s){const r="line"===e||"bullet"===e?"solid":t,o=((0,b.wo)(n)?n.pattern.color:n)??h,a="triangle"===s||"triangle-down"===s,d={...x(s,9,l),...f(s,r,o,9)};switch(r){case"pattern":return{...d,color:o,border:a?void 0:`1px solid ${o}`,position:"relative",backgroundColor:i?"transparent":o};case"outline":return{...d,backgroundColor:o,border:i?`1px solid ${(0,b.Mn)(o,.9)}`:`1px solid ${n}`};default:return{...d,backgroundColor:a?"transparent":o}}}(e.type,u,C,r,e.isVisible,e.pointShape),k=e.isVisible?{}:{color:v},$=n?{width:`${n}px`}:{},N=(0,i.useCallback)((e=>{w(t,e||null)}),[t,w]),M=(0,a.useIdPrefixed)("legend-item");return(0,l.jsxs)("button",{ref:N,"data-testid":"legend-item",role:"switch","aria-describedby":g,"aria-checked":e.isVisible,id:I,style:$,className:c("series-item",{"series-item--isFocused":m}),onClick:()=>o(e),"aria-labelledby":M,title:(0,p.Z)(e.name),tabIndex:-1,children:[(0,l.jsx)("div",{className:"series-icon",style:j,children:e.isVisible&&A&&(0,b.wo)(e.color)?(0,l.jsx)(y.e,{patternFill:e.color?.pattern}):null}),(0,l.jsx)("div",{id:M,className:"series-name",style:k,children:e.name})]})})),I=n(17096);function w(){return(0,l.jsx)("div",{className:"legend-separator","data-testid":"legend-separator","aria-hidden":!0})}const v=(0,i.memo)((function({index:e,item:t,enableBorderRadius:n,width:i,describedBy:s,onItemClick:r,chartFill:o}){const a=function(e,t=!1){return"function"==typeof t?t(e):t}(t,n);return(0,I.Qv)(t)?(0,l.jsx)(w,{},e):(0,I.BW)(t)?(0,l.jsx)("div",{style:{display:"contents"},role:"listitem",children:(0,l.jsx)(m,{index:e,enableBorderRadius:a,item:t,width:i,onItemClick:r,describedBy:s,chartFill:o},e)}):null})),A=(0,i.memo)((function({series:e,enableBorderRadius:t,onItemClick:n,width:o,chartFill:a}){const d=s.Jp.useContextStore((e=>e.descriptionId)),c=(0,i.useRef)(!1);function p({item:i}){let s=!1;return(0,I.BW)(i)&&i.isVisible&&!c.current&&(s=!0,c.current=!0),(0,l.jsx)(v,{index:e.indexOf(i),item:i,enableBorderRadius:t,width:o,onItemClick:n,chartFill:a,describedBy:s?d:void 0})}return(0,r.c9)(e).map(((e,t)=>(0,I.iy)(e)?(0,l.jsx)(u,{item:e,width:o,children:e.items.map(((e,t)=>(0,l.jsx)(p,{item:e},`item-${t}`)))},`group-${t}`):(0,l.jsx)(p,{item:e},`item-${t}`)))}))},3727:function(e,t,n){n.d(t,{c:function(){return p}});var l=n(5549),i=n(24544),s=n(94184),r=n(43261),o=n(16111),a=n(29422),d=n(65165),u=n(38253),c=n(17096);const p=(0,i.forwardRef)((function({series:e,label:t,style:n,children:p,onToggleItem:x,className:f},m){const{formatMessage:I}=(0,r.Z)(),w=(0,i.useMemo)((()=>{const t=[];return e.forEach(((e,n)=>{(0,c.BW)(e)&&t.push(n)})),t}),[e]),[v,A]=(0,i.useState)((()=>w[0]??0)),C=(0,d.useIdPrefixed)("LegendSeries"),j=(0,u.z4)({series:e,id:C,focusedIndex:v}),{makeItemId:k,descriptionId:$}=j,{viewportRefCallback:N,contextValue:M}=((e={})=>{const{threshold:t=.1,rootMargin:n="0px"}=e,[l,s]=(0,i.useState)(new Set),[r,o]=(0,i.useState)(null),a=(0,i.useRef)(null),u=(0,i.useRef)([]),c=(0,d.useIdPrefixed)("legend-visibility-detection"),p=(0,i.useCallback)((e=>{o(e)}),[]),g=(0,i.useCallback)(((e,t,n)=>{if(!n)return void u.current.push({index:e,element:t});const l=`data-${c}-index`;if(t)t.setAttribute(l,e.toString()),n.observe(t);else{const t=document.querySelector(`[${l}="${e}"]`);t&&n.unobserve(t)}}),[c]);return(0,i.useEffect)((()=>{a.current&&(a.current.disconnect(),a.current=null),r&&(a.current=new IntersectionObserver((e=>{s((t=>{const n=new Set(t);return e.forEach((e=>{const t=`data-${c}-index`,l=parseInt(e.target.getAttribute(t)||"0");e.isIntersecting?n.add(l):n.delete(l)})),n}))}),{root:r,rootMargin:n,threshold:t}),u.current.length>0&&(u.current.forEach((({index:e,element:t})=>{g(e,t,a.current)})),u.current=[]))}),[r,t,n,g,c]),(0,i.useEffect)((()=>()=>{a.current?.disconnect()}),[]),{viewportRefCallback:p,contextValue:{registerItem:(0,i.useCallback)(((e,t)=>{g(e,t,a.current)}),[g]),isVisible:e=>l.has(e),visibleItems:l}}})(),P=(0,a.useAutoupdateRef)({focusedIndex:v,onToggleItem:x,series:e,visibilityContext:M}),R=(0,i.useMemo)((()=>(0,d.makeLinearKeyboardNavigation)({onFocusNext:()=>{const e=M.isVisible;A((t=>y(t,w,e)))},onFocusPrevious:()=>{const e=M.isVisible;A((t=>h(t,w,e)))},onFocusFirst:()=>{const e=M.isVisible,t=g(w,e);A(t)},onFocusLast:()=>{const e=M.isVisible,t=b(w,e);A(t)},onSelect:()=>{const{onToggleItem:e,focusedIndex:t,series:n}=P.current;e(n[t])}})),[P,M,w]);return(0,l.jsx)(u.Jp,{value:j,children:(0,l.jsx)(u.$8.Provider,{value:M,children:(0,l.jsxs)("div",{className:s("series-wrapper legend-series-wrapper",f),role:"group","aria-activedescendant":k(e[v]),tabIndex:0,onKeyDown:R,ref:N,children:[(0,l.jsx)("div",{className:"series legend-series",role:"list","aria-label":t?I({id:"properties.legend.series.named"},{name:t}):I({id:"properties.legend.series.unnamed"}),style:n,ref:m,children:p}),(0,l.jsx)("p",{id:$,className:"sr-only",children:(0,l.jsx)(o.Z,{id:"properties.legend.series.item.description"})})]})})})})),g=(e,t)=>{for(const n of e)if(t(n))return n;return e[0]??0},b=(e,t)=>{for(let n=e.length-1;n>=0;n--){const l=e[n];if(t(l))return l}return e[e.length-1]??0},y=(e,t,n)=>{const l=t.indexOf(e);if(-1===l)return g(t,n);let i=l+1,s=0;for(;s<t.length;){i>=t.length&&(i=0);const e=t[i];if(n(e))return e;i++,s++}return e},h=(e,t,n)=>{const l=t.indexOf(e);if(-1===l)return b(t,n);let i=l-1,s=0;for(;s<t.length;){i<0&&(i=t.length-1);const e=t[i];if(n(e))return e;i--,s++}return e}},85932:function(e,t,n){n.d(t,{P:function(){return u}});var l=n(5549),i=n(94184),s=n(43261),r=n(16111),o=n(65165),a=n(17397);function d({type:e,buttonsOrientation:t,handler:n,disabled:r}){const d=(0,s.Z)(),u=i("gd-button-link","gd-button-icon-only",`gd-icon-chevron-${function(e,t){return"prev"===e?"upDown"===t?"up":"left":"next"===e?"upDown"===t?"down":"right":void 0}(e,t)}`,"paging-button"),c="prev"===e?d.formatMessage(a.s.previous):d.formatMessage(a.s.next);return(0,l.jsx)(o.Button,{className:u,onClick:n,disabled:r,accessibilityConfig:{ariaLabel:c}})}function u({page:e,pagesCount:t,buttonsOrientation:n="upDown",showNextPage:i,showPrevPage:s}){return(0,l.jsxs)("div",{className:"paging","data-testid":"Paging",children:[(0,l.jsx)(d,{type:"prev",buttonsOrientation:n,handler:s,disabled:1===e}),(0,l.jsx)(r.Z,{id:"visualizations.of",tagName:"span",values:{page:(0,l.jsx)("strong",{children:e}),pagesCount:t}}),(0,l.jsx)(d,{type:"next",buttonsOrientation:n,handler:i,disabled:e===t})]})}},19679:function(e,t,n){n.d(t,{a:function(){return A}});var l=n(5549),i=n(24544),s=n(43261),r=n(65165),o=n(94184);const a=[{align:"tr tl",offset:{x:18,y:0}},{align:"tl tr",offset:{x:-18,y:0}},{align:"br bl",offset:{x:18,y:0}},{align:"bl br",offset:{x:-18,y:0}},{align:"bc tc",offset:{x:0,y:18}},{align:"cc cr",offset:{x:-200,y:0}}],d=[{align:"bc tc",offset:{x:0,y:-40}},{align:"tc bc",offset:{x:0,y:-18}},{align:"cc tc",offset:{x:0,y:0}}],u=({children:e})=>e((0,r.useMediaQuery)("<sm"));function c({title:e,onCloseDialog:t,children:n,id:s}){const a=(0,r.useIsZoomed)(r.ZOOM_THRESHOLD),d=(0,i.useRef)(null),u=(0,i.useCallback)((e=>{e.preventDefault(),t()}),[t]),c=(0,i.useCallback)((e=>{d.current&&!d.current.contains(e.relatedTarget)&&t()}),[t]),p=o("legend-popup-dialog","legend-popup-dialog-content",{zoomed:a}),g=(0,r.useIdPrefixed)("legendDialogContentTitle");return(0,l.jsx)("div",{className:p,id:s,role:"dialog","aria-modal":!1,"aria-labelledby":g,onBlur:c,ref:d,children:(0,l.jsxs)(r.UiFocusTrap,{children:[(0,l.jsxs)("div",{className:"legend-header",children:[(0,l.jsx)("div",{className:"legend-header-title",id:g,children:e}),(0,l.jsx)(r.DialogCloseButton,{className:"s-legend-close legend-close gd-icon-cross gd-button-link gd-button-icon-only",onClose:u})]}),(0,l.jsx)(r.UiAutofocus,{children:(0,l.jsx)("div",{className:"legend-content",children:n})})]})})}function p({name:e,children:t,isOpen:n,alignTo:i,onCloseDialog:s,id:o}){return n?(0,l.jsx)(u,{children:n=>(0,l.jsx)(r.ZoomAwareOverlay,{alignTo:i,alignPoints:n?d:a,closeOnOutsideClick:!n,onClose:s,className:"kpi-alert-dialog-overlay",ensureVisibility:!0,closeOnEscape:!0,children:(0,l.jsx)(c,{title:e,onCloseDialog:s,id:o,children:t})})}):null}var g=n(55415),b=n(70934),y=n(3727);const h=20,x=10,f=()=>{const[e,t]=(0,i.useState)(!1),[n,l]=(0,i.useState)(1);return[e,n,e=>{if(!e)return;const{clientHeight:n,scrollHeight:i}=e;t(i>n);const s=(e=>Math.ceil((e-x)/h))(n);l(s)}]};function m({isVisible:e,isActive:t,onIconClick:n,dialogId:a,triggerId:d}){const{formatMessage:u}=(0,s.Z)(),c=(0,i.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),n()}),[n]);if(!e)return null;const p=o("legend-popup-button legend-popup-icon s-legend-popup-icon",{"legend-popup-icon-active":t});return(0,l.jsx)("div",{className:"legend-popup-button",children:(0,l.jsx)(r.Button,{onClick:c,className:p,tabIndex:0,accessibilityConfig:{isExpanded:t,popupId:a,ariaLabel:u({id:"properties.legend.more.button"})},id:d,children:(0,l.jsx)("div",{role:"presentation",children:(0,l.jsx)(r.IconLegendMenu,{})})})})}function I({series:e,maxRowsCount:t=1,legendLabel:n,enableBorderRadius:i,onDialogIconClick:s,onLegendItemClick:r,dialogId:o,triggerId:a,isActive:d=!1,chartFill:u}){const[c,p,I]=f(),w=t*h+x,v=1===p?"flex-end":"flex-start";return(0,l.jsxs)("div",{className:"legend-popup-row",style:{maxHeight:w},children:[(0,l.jsxs)(y.c,{onToggleItem:r,series:e,ref:I,style:{justifyContent:v},label:n,className:"viz-legend static position-row",children:[(0,l.jsx)(g.a,{label:n}),(0,l.jsx)(b.I,{enableBorderRadius:i,series:e,onItemClick:r,chartFill:u})]}),(0,l.jsx)(m,{isActive:d,isVisible:c,onIconClick:s,dialogId:o,triggerId:a})]})}var w=n(72666);const v=34;function A({name:e,maxRows:t,enableBorderRadius:n,series:o,onLegendItemClick:a,containerId:d,customComponent:u,customComponentName:c,chartFill:g}){const b=(0,s.Z)(),[y,h]=(0,i.useState)(!1),[x,f]=(0,i.useState)(1),m=1===x&&c||e||b.formatMessage({id:"properties.legend.title"}),A=(0,r.useIdPrefixed)("popUpLegend"),C=`${A}-dialog`,j=`${A}-trigger`,k=(0,i.useCallback)((()=>{h(!1),f(1),document.getElementById(j)?.focus()}),[j]);return(0,l.jsxs)("div",{"data-testid":"pop-up-legend",children:[(0,l.jsx)(I,{legendLabel:e,maxRowsCount:t,series:[...o],onDialogIconClick:()=>{h((e=>!e))},onLegendItemClick:a,enableBorderRadius:n,isActive:y,dialogId:C,triggerId:j,chartFill:g}),(0,l.jsx)(p,{name:m,alignTo:`.${d}`,isOpen:y,onCloseDialog:k,id:C,children:(0,l.jsx)(w.M,{containerHeight:260,series:[...o],label:e,isLabelVisible:!1,position:"dialog",buttonOrientation:"leftRight",onItemClick:a,shouldFillAvailableSpace:!1,enableBorderRadius:n,paginationHeight:v,customComponent:u,onPageChanged:f,chartFill:g})})]})}},90297:function(e,t,n){n.d(t,{$:function(){return o}});var l=n(21034);const i=610,s=194,r=274;function o(e,t,n,o){return"autoPositionWithPopup"!==t?function(e,t,n,i){let s=e;return i&&(s=Boolean(t&&n)?e===l.GS?l.GS:l.D:e||l.pX),{position:s,renderPopUp:!1}}(e,t,n.showFluidLegend,n.isHeatmap):function(e,t,n,o){const a=t?.client?.width,d=t?.client?.height;if(!a||!d)return null;const u=n?{name:n}:{},c="top"===e||"bottom"===e,p=d<r?1:2,g={...u,position:e,renderPopUp:c,maxRows:c?p:void 0};if(o&&"auto"!==e)return g;if(a<i){const e=d<r?1:2;return{...u,position:l.GS,renderPopUp:!0,maxRows:e}}return d<s?{...u,position:l.pX,renderPopUp:!1}:g}(e,n.contentRect,n.legendLabel,o)}},21034:function(e,t,n){n.d(t,{D:function(){return r},GS:function(){return s},RL:function(){return l},pX:function(){return i}});const l="left",i="right",s="top",r="bottom"},72666:function(e,t,n){n.d(t,{M:function(){return p}});var l=n(5549),i=n(24544),s=n(94184),r=n(40207),o=n(55415),a=n(70934),d=n(3727),u=n(85932),c=n(21034);const p=(0,i.memo)((function({buttonOrientation:e="upDown",paginationHeight:t=r.Q$,containerHeight:n,position:p,series:h,enableBorderRadius:x,shouldFillAvailableSpace:f,label:m,customComponent:I,isLabelVisible:w=!0,onItemClick:v,onPageChanged:A,chartFill:C}){const[j,k]=(0,i.useState)(1),$=(0,i.useCallback)((()=>{k((e=>{const t=e+1;return A?.(t),t}))}),[A]),N=(0,i.useCallback)((()=>{k((e=>{const t=e-1;return A?.(t),t}))}),[A]),M=null!=I,P=1===j&&M,R="dialog"===p?2:1,F=m&&w?r.Lu:0,B=m&&w?(0,l.jsx)(o.a,{label:m}):null,S=n-F,L=h.length,{hasPaging:z,visibleItemsCount:O}=(0,r.pP)(L,S,R,t),D=z||M,Z=g(h.length,O,M),T=O/R*r.Lu,H=Math.min(O/R,L)*r.Lu,V=(f?T:H)+F,[E,U]=b(j,O,h.length,M),W=h.slice(E,U),G=y(O,R,W.length),_=s("viz-legend","static",`position-${p}`,{"no-width":!P&&G});return p===c.GS||p===c.D?(0,l.jsx)("div",{className:_,children:(0,l.jsx)(d.c,{series:h,label:m,onToggleItem:v??(()=>{}),children:(0,l.jsx)(a.I,{enableBorderRadius:x,series:h,onItemClick:v??(()=>{}),chartFill:C})})}):(0,l.jsxs)("div",{className:_,children:[(0,l.jsxs)(d.c,{series:W,label:m,style:{height:V},onToggleItem:v??(()=>{}),children:[B,P?I:(0,l.jsx)(a.I,{enableBorderRadius:x,series:W,onItemClick:v??(()=>{}),chartFill:C})]}),D?(0,l.jsx)(u.P,{page:j,pagesCount:Z,showNextPage:$,showPrevPage:N,buttonsOrientation:e}):null]})})),g=(e,t,n)=>{const l=Math.ceil(e/t);return n?l+1:l},b=(e,t,n,l)=>[l?(e-2)*t:(e-1)*t,l?Math.min(t*(e-1),n):Math.min(t*e,n)],y=(e,t,n)=>e/t>=n},38253:function(e,t,n){n.d(t,{$8:function(){return o},Jp:function(){return r},Q_:function(){return a},z4:function(){return s}});var l=n(24544),i=n(29422);const s=({series:e,focusedIndex:t,id:n})=>{const i=`${n}-description`,s=(0,l.useCallback)((t=>t&&`${n}-${e.indexOf(t)}`),[n,e]);return(0,l.useMemo)((()=>({focusedItem:e[t],makeItemId:s,descriptionId:i})),[i,t,s,e])},r=(0,i.createContextStore)("LegendSeries"),o=(0,l.createContext)(null),a=()=>{const e=(0,l.useContext)(o);if(!e)throw new Error("useItemVisibility must be used within a VisibilityProvider");return e}},40207:function(e,t,n){n.d(t,{Lu:function(){return f},Q$:function(){return w},gz:function(){return O},pP:function(){return Z},N5:function(){return U},sD:function(){return V},c9:function(){return _},nf:function(){return G}});var l=Math.max,i=Math.min,s=n(29640),r=n(3782),o=function(e,t,n){return t=(0,s.Z)(t),void 0===n?(n=t,t=0):n=(0,s.Z)(n),function(e,t,n){return e>=i(t,n)&&e<l(t,n)}(e=(0,r.Z)(e),t,n)},a=n(96446),d=n(50576),u=n(18608),c=n(21034),p=n(17096),g=n(16576);const b=200,y=2,h=30,x=12,f=20,m="...",I="Â ",w=44,v="left",A="right",C="center",j=10,k={height:30,textAlign:v,lineHeight:"30px"},$=[{type:"label",labelIndex:0,style:{height:15,textAlign:v,lineHeight:"11px"}},{type:"label",labelIndex:1,style:k},{type:"label",labelIndex:2,style:k},{type:"label",labelIndex:3,style:k},{type:"label",labelIndex:4,style:k},{type:"label",labelIndex:5,style:k},{type:"label",labelIndex:6,style:k},{type:"label",labelIndex:7,style:{height:15,textAlign:v,lineHeight:"20px"}}],N={width:40,textAlign:C},M=[[{type:"label",labelIndex:0,style:{width:175,textAlign:v}},{type:"label",labelIndex:7,style:{width:175,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:145,textAlign:v}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"label",labelIndex:7,style:{width:145,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:95,textAlign:v}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"label",labelIndex:7,style:{width:95,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:55,textAlign:v}},{type:"label",labelIndex:2,style:{width:90,textAlign:C}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"label",labelIndex:5,style:{width:90,textAlign:C}},{type:"label",labelIndex:7,style:{width:55,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:45,textAlign:v}},{type:"dots"},{type:"label",labelIndex:2,style:{width:90,textAlign:C}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"label",labelIndex:5,style:{width:90,textAlign:C}},{type:"dots"},{type:"label",labelIndex:7,style:{width:45,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:30,textAlign:v}},{type:"label",labelIndex:1,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:2,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:3,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:4,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:5,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:6,style:N},{type:"label",labelIndex:7,style:{width:30,textAlign:A}}]],P=[[{type:"label",labelIndex:0,style:{width:175,textAlign:v}},{type:"label",labelIndex:6,style:{width:175,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:145,textAlign:v}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"label",labelIndex:6,style:{width:145,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:95,textAlign:v}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"label",labelIndex:6,style:{width:95,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:55,textAlign:v}},{type:"label",labelIndex:2,style:{width:90,textAlign:C}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"label",labelIndex:4,style:{width:90,textAlign:C}},{type:"label",labelIndex:6,style:{width:55,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:45,textAlign:v}},{type:"dots"},{type:"label",labelIndex:2,style:{width:90,textAlign:C}},{type:"dots"},{type:"space",style:{width:40}},{type:"dots"},{type:"label",labelIndex:4,style:{width:90,textAlign:C}},{type:"dots"},{type:"label",labelIndex:6,style:{width:45,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:30,textAlign:v}},{type:"label",labelIndex:1,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:2,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:3,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:4,style:N},{type:"space",style:{width:10}},{type:"label",labelIndex:5,style:N},{type:"label",labelIndex:6,style:{width:30,textAlign:A}}]],R={width:40,textAlign:C},F=[[{type:"label",labelIndex:0,style:{width:63,textAlign:v}},{type:"label",labelIndex:7,style:{width:63,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:63,textAlign:v}},{type:"label",labelIndex:7,style:{width:63,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:63,textAlign:v}},{type:"label",labelIndex:7,style:{width:63,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:63,textAlign:v}},{type:"label",labelIndex:7,style:{width:63,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:33,textAlign:v}},{type:"label",labelIndex:3,style:{width:42,textAlign:C}},{type:"label",labelIndex:7,style:{width:51,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:33,textAlign:v}},{type:"label",labelIndex:3,style:{width:42,textAlign:C}},{type:"label",labelIndex:7,style:{width:51,textAlign:A}}]],B=[[{type:"label",labelIndex:0,style:{width:54,textAlign:v}},{type:"label",labelIndex:6,style:{width:54,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:54,textAlign:v}},{type:"label",labelIndex:6,style:{width:54,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:54,textAlign:v}},{type:"label",labelIndex:6,style:{width:54,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:54,textAlign:v}},{type:"label",labelIndex:6,style:{width:54,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:24,textAlign:v}},{type:"label",labelIndex:4,style:{width:32,textAlign:C}},{type:"label",labelIndex:6,style:{width:52,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:24,textAlign:v}},{type:"label",labelIndex:4,style:{width:32,textAlign:C}},{type:"label",labelIndex:6,style:{width:52,textAlign:A}}]],S=[[{type:"label",labelIndex:0,style:{width:138,textAlign:v}},{type:"label",labelIndex:7,style:{width:138,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:115,textAlign:v}},{type:"dots"},{type:"space",style:{width:26}},{type:"dots"},{type:"label",labelIndex:7,style:{width:115,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:75,textAlign:v}},{type:"dots"},{type:"space",style:{width:30}},{type:"dots"},{type:"space",style:{width:26}},{type:"dots"},{type:"space",style:{width:30}},{type:"dots"},{type:"label",labelIndex:7,style:{width:75,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:45,textAlign:v}},{type:"label",labelIndex:2,style:{width:70,textAlign:C}},{type:"dots"},{type:"space",style:{width:26}},{type:"dots"},{type:"label",labelIndex:5,style:{width:70,textAlign:C}},{type:"label",labelIndex:7,style:{width:45,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:35,textAlign:v}},{type:"dots"},{type:"label",labelIndex:2,style:{width:70,textAlign:C}},{type:"dots"},{type:"space",style:{width:26}},{type:"dots"},{type:"label",labelIndex:5,style:{width:70,textAlign:C}},{type:"dots"},{type:"label",labelIndex:7,style:{width:35,textAlign:A}}],[{type:"label",labelIndex:0,style:{width:20,textAlign:v}},{type:"label",labelIndex:1,style:R},{type:"label",labelIndex:2,style:R},{type:"label",labelIndex:3,style:{width:38,textAlign:C}},{type:"label",labelIndex:4,style:{width:38,textAlign:C}},{type:"label",labelIndex:5,style:R},{type:"label",labelIndex:6,style:R},{type:"label",labelIndex:7,style:{width:20,textAlign:A}}]];const L={large:[5,8,10,15,18],medium:[4,7,9,13,15],small:[2,5,8,10,12]};function z(e,t,n){const l=e.length,i=e.at(0)?.length??0,s=e.at(-1)?.length??0,r=i>s?i:s,a=L[t],d=n?$:function(e,t,n,l){const i=function(e,t){let n;return n=o(t,0,e[0])?5:o(t,e[0],e[1])?4:o(t,e[1],e[2])?3:o(t,e[2],e[3])?2:o(t,e[3],e[4])?1:0,n}(e,t);return"small"===n?7==l?B[i]:F[i]:"medium"===n?S[i]:8===l?M[i]:P[i]}(a,r,t,l);return u=e,d.map(((e,t)=>{switch(e.type){case"label":return{label:u[e.labelIndex],style:e.style,key:`${e.type}-${t}`};case"space":return function(e,t){return{key:`empty-${t}`,label:I,style:e}}(e.style,t);case"dots":return function(e){return{key:`dots-${e}`,label:m,style:(t=j,n=C,{width:t,textAlign:n})};var t,n}(t);default:return null}})).filter((e=>null!==e));var u}function O(e,t){const n=t-2*x-1;if(e<=2)return{hasPaging:!1,itemWidth:n/e,visibleItemsCount:e};let l=Math.floor(n/b),i=n/l,s=!1;if(Math.ceil(e/l)>y){const e=n-h;l=Math.floor(e/b),i=e/l,s=!0}return{itemWidth:i,hasPaging:s,visibleItemsCount:l*y}}function D(e,t,n,l){const i=e-(n?l:0);return Math.floor(i/f)*t}function Z(e,t,n=1,l=w){if(t<f)return{hasPaging:!1,visibleItemsCount:0};const i=D(t,n,!1,l);return i>=e?{hasPaging:!1,visibleItemsCount:i}:{hasPaging:!0,visibleItemsCount:D(t,n,!0,l)}}const T=3;function H(e,t){const n=t?.chart?.backgroundColor??t?.palette?.complementary?.c0??"#fff",l=t?.palette?.complementary?.c4??"#ccc";return e.map(((e,t)=>{const i=(e=>({backgroundColor:e.color,border:(0,d.Z)((0,g.z)(e.color),(0,g.z)(n))?`1px solid ${l}`:"none"}))(e);return{class:t===T?"middle":null,key:`item-${t}`,style:i}}))}function V(e,t,n,l,i,s){const r=function(e,t,n){const l=e.at(0)?.range?.from??0,i=(e.at(-1)?.range?.to??0)-l;return(0,a.Z)(e.length+1).map((l=>{let s;return s=0===l?e[0]?.range?.from??0:l===e.length?e[l-1]?.range?.to??0:e[l]?.range?.from??0,U(s,t,i,n)}))}(e,t,n);return{classes:["viz-legend","color-legend",`position-${i}`,l],labels:z(r,l,i===c.RL||i===c.pX),boxes:H(e,s),position:i}}function E(e,t){return u.X.formatValue(e,t).formattedValue}function U(e,t,n,l){if(t?.includes("%"))return E(e,"#,#0%");const i=-1===Math.sign(e)?"-":"",s=Math.abs(e);let r="";return n<10&&(r+="[<1]0.00;[<10]#.#;[<100]#.#;"),r+=(n<1e4?"[<999500]0;":`[<1000]0;[<10000]#.#,${l[0]};[<999500]#,${l[0]};`)+`[<10000000]#.#,,${l[1]};[<999500000]#,,${l[1]};`+`[<10000000000]#.#,,,${l[2]};[<999500000000]#,,,${l[2]};`+`[<10000000000000]#.#,,,${l[3]};[>=10000000000000]#,,,${l[3]}`,i+E(s,r)}const W=768;function G(e){return!!e&&e.documentElement.clientWidth<W}function _(e){const t=[];let n=null;return e.forEach((e=>{if(!(0,p.Qv)(e))return(0,p.Lr)(e)?(n&&(t.push(n),t.push({type:p.kU})),void(n={...e,type:p.Zc,items:[]})):void(n?n.items.push(e):t.push(e))})),n&&t.push(n),t}},17096:function(e,t,n){n.d(t,{BW:function(){return u},Lr:function(){return c},Qv:function(){return d},Ug:function(){return s},Yr:function(){return r},Zc:function(){return a},iy:function(){return p},kU:function(){return o},nB:function(){return i},tV:function(){return l}});const l={LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",AUTO:"auto"},i=["left","right","top","bottom"],s={enabled:!0,position:l.TOP},r="legendAxisIndicator",o="legendSeparator",a="legend-group";function d(e){return"type"in e&&e.type===o}function u(e){return"legendIndex"in e}function c(e){return"type"in e&&e.type===r}function p(e){return"type"in e&&e.type===a}},17397:function(e,t,n){n.d(t,{s:function(){return l}});const l=(0,n(66727).vU)({top:{id:"visualizations.legend.text.top"},bottom:{id:"visualizations.legend.text.bottom"},left:{id:"visualizations.legend.text.left"},right:{id:"visualizations.legend.text.right"},colon:{id:"visualizations.legend.text.colon"},column:{id:"visualizations.legend.text.column"},line:{id:"visualizations.legend.text.line"},area:{id:"visualizations.legend.text.area"},combo:{id:"visualizations.legend.text.combo"},previous:{id:"visualizations.pagination.previous"},next:{id:"visualizations.pagination.next"}})}}]);